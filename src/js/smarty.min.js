function parseBool(t){return!!$.isset(t)&&"true"==t}function setTimeoutLoop(t,e,s,a){var n=s.start||1,r=s.stop||s;return setTimeout(function(){t(),n++,n<=r?setTimeout(function(){s={start:n,stop:r},setTimeoutLoop(t,e,s,a)},e):a()},0)}!function(t){t.pf={webcomponents:function(){!function(){window.WebComponents=window.WebComponents||{flags:{}};var t="webcomponents-lite.js",e=document.querySelector('script[src*="'+t+'"]'),s={};if(!s.noOpts){if(location.search.slice(1).split("&").forEach(function(t){var e,a=t.split("=");a[0]&&(e=a[0].match(/wc-(.+)/))&&(s[e[1]]=a[1]||!0)}),e)for(var a,n=0;a=e.attributes[n];n++)"src"!==a.name&&(s[a.name]=a.value||!0);if(s.log&&s.log.split){var r=s.log.split(",");s.log={},r.forEach(function(t){s.log[t]=!0})}else s.log={}}s.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=s.register),WebComponents.flags=s}(),function(t){"use strict";function e(t){return void 0!==u[t]}function s(){o.call(this),this._isInvalid=!0}function a(t){return""==t&&s.call(this),t.toLowerCase()}function n(t){var e=t.charCodeAt(0);return e>32&&e<127&&[34,35,60,62,63,96].indexOf(e)==-1?t:encodeURIComponent(t)}function r(t){var e=t.charCodeAt(0);return e>32&&e<127&&[34,35,60,62,96].indexOf(e)==-1?t:encodeURIComponent(t)}function i(t,i,o){function c(t){b.push(t)}var d=i||"scheme start",l=0,g="",v=!1,w=!1,b=[];t:for(;(t[l-1]!=f||0==l)&&!this._isInvalid;){var y=t[l];switch(d){case"scheme start":if(!y||!h.test(y)){if(i){c("Invalid scheme.");break t}g="",d="no scheme";continue}g+=y.toLowerCase(),d="scheme";break;case"scheme":if(y&&m.test(y))g+=y.toLowerCase();else{if(":"!=y){if(i){if(f==y)break t;c("Code point not allowed in scheme: "+y);break t}g="",l=0,d="no scheme";continue}if(this._scheme=g,g="",i)break t;e(this._scheme)&&(this._isRelative=!0),d="file"==this._scheme?"relative":this._isRelative&&o&&o._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==y?(this._query="?",d="query"):"#"==y?(this._fragment="#",d="fragment"):f!=y&&"\t"!=y&&"\n"!=y&&"\r"!=y&&(this._schemeData+=n(y));break;case"no scheme":if(o&&e(o._scheme)){d="relative";continue}c("Missing scheme."),s.call(this);break;case"relative or authority":if("/"!=y||"/"!=t[l+1]){c("Expected /, got: "+y),d="relative";continue}d="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=o._scheme),f==y){this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._username=o._username,this._password=o._password;break t}if("/"==y||"\\"==y)"\\"==y&&c("\\ is an invalid code point."),d="relative slash";else if("?"==y)this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query="?",this._username=o._username,this._password=o._password,d="query";else{if("#"!=y){var x=t[l+1],k=t[l+2];("file"!=this._scheme||!h.test(y)||":"!=x&&"|"!=x||f!=k&&"/"!=k&&"\\"!=k&&"?"!=k&&"#"!=k)&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password,this._path=o._path.slice(),this._path.pop()),d="relative path";continue}this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._fragment="#",this._username=o._username,this._password=o._password,d="fragment"}break;case"relative slash":if("/"!=y&&"\\"!=y){"file"!=this._scheme&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password),d="relative path";continue}"\\"==y&&c("\\ is an invalid code point."),d="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=y){c("Expected '/', got: "+y),d="authority ignore slashes";continue}d="authority second slash";break;case"authority second slash":if(d="authority ignore slashes","/"!=y){c("Expected '/', got: "+y);continue}break;case"authority ignore slashes":if("/"!=y&&"\\"!=y){d="authority";continue}c("Expected authority, got: "+y);break;case"authority":if("@"==y){v&&(c("@ already seen."),g+="%40"),v=!0;for(var T=0;T<g.length;T++){var C=g[T];if("\t"!=C&&"\n"!=C&&"\r"!=C)if(":"!=C||null!==this._password){var _=n(C);null!==this._password?this._password+=_:this._username+=_}else this._password="";else c("Invalid whitespace in authority.")}g=""}else{if(f==y||"/"==y||"\\"==y||"?"==y||"#"==y){l-=g.length,g="",d="host";continue}g+=y}break;case"file host":if(f==y||"/"==y||"\\"==y||"?"==y||"#"==y){2!=g.length||!h.test(g[0])||":"!=g[1]&&"|"!=g[1]?0==g.length?d="relative path start":(this._host=a.call(this,g),g="",d="relative path start"):d="relative path";continue}"\t"==y||"\n"==y||"\r"==y?c("Invalid whitespace in file host."):g+=y;break;case"host":case"hostname":if(":"!=y||w){if(f==y||"/"==y||"\\"==y||"?"==y||"#"==y){if(this._host=a.call(this,g),g="",d="relative path start",i)break t;continue}"\t"!=y&&"\n"!=y&&"\r"!=y?("["==y?w=!0:"]"==y&&(w=!1),g+=y):c("Invalid code point in host/hostname: "+y)}else if(this._host=a.call(this,g),g="",d="port","hostname"==i)break t;break;case"port":if(/[0-9]/.test(y))g+=y;else{if(f==y||"/"==y||"\\"==y||"?"==y||"#"==y||i){if(""!=g){var q=parseInt(g,10);q!=u[this._scheme]&&(this._port=q+""),g=""}if(i)break t;d="relative path start";continue}"\t"==y||"\n"==y||"\r"==y?c("Invalid code point in port: "+y):s.call(this)}break;case"relative path start":if("\\"==y&&c("'\\' not allowed in path."),d="relative path","/"!=y&&"\\"!=y)continue;break;case"relative path":if(f!=y&&"/"!=y&&"\\"!=y&&(i||"?"!=y&&"#"!=y))"\t"!=y&&"\n"!=y&&"\r"!=y&&(g+=n(y));else{"\\"==y&&c("\\ not allowed in relative path.");var E;(E=p[g.toLowerCase()])&&(g=E),".."==g?(this._path.pop(),"/"!=y&&"\\"!=y&&this._path.push("")):"."==g&&"/"!=y&&"\\"!=y?this._path.push(""):"."!=g&&("file"==this._scheme&&0==this._path.length&&2==g.length&&h.test(g[0])&&"|"==g[1]&&(g=g[0]+":"),this._path.push(g)),g="","?"==y?(this._query="?",d="query"):"#"==y&&(this._fragment="#",d="fragment")}break;case"query":i||"#"!=y?f!=y&&"\t"!=y&&"\n"!=y&&"\r"!=y&&(this._query+=r(y)):(this._fragment="#",d="fragment");break;case"fragment":f!=y&&"\t"!=y&&"\n"!=y&&"\r"!=y&&(this._fragment+=y)}l++}}function o(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(t,e){void 0===e||e instanceof c||(e=new c(String(e))),this._url=t,o.call(this);var s=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");i.call(this,s,null,e)}var d=!1;if(!t.forceJURL)try{var l=new URL("b","http://a");l.pathname="c%20d",d="http://a/c%20d"===l.href}catch(t){}if(!d){var u=Object.create(null);u.ftp=21,u.file=0,u.gopher=70,u.http=80,u.https=443,u.ws=80,u.wss=443;var p=Object.create(null);p["%2e"]=".",p[".%2e"]="..",p["%2e."]="..",p["%2e%2e"]="..";var f=void 0,h=/[a-zA-Z]/,m=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var t="";return""==this._username&&null==this._password||(t=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+t+this.host:"")+this.pathname+this._query+this._fragment},set href(t){o.call(this),i.call(this,t)},get protocol(){return this._scheme+":"},set protocol(t){this._isInvalid||i.call(this,t+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(t){!this._isInvalid&&this._isRelative&&i.call(this,t,"host")},get hostname(){return this._host},set hostname(t){!this._isInvalid&&this._isRelative&&i.call(this,t,"hostname")},get port(){return this._port},set port(t){!this._isInvalid&&this._isRelative&&i.call(this,t,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(t){!this._isInvalid&&this._isRelative&&(this._path=[],i.call(this,t,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(t){!this._isInvalid&&this._isRelative&&(this._query="?","?"==t[0]&&(t=t.slice(1)),i.call(this,t,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(t){this._isInvalid||(this._fragment="#","#"==t[0]&&(t=t.slice(1)),i.call(this,t,"fragment"))},get origin(){var t;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return t=this.host,t?this._scheme+"://"+t:""}};var g=t.URL;g&&(c.createObjectURL=function(t){return g.createObjectURL.apply(g,arguments)},c.revokeObjectURL=function(t){g.revokeObjectURL(t)}),t.URL=c}}(self),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,s=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};s.prototype={set:function(e,s){var a=e[this.name];return a&&a[0]===e?a[1]=s:t(e,this.name,{value:[e,s],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=s}(),function(t){function e(t){y.push(t),b||(b=!0,m(a))}function s(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function a(){b=!1;var t=y;y=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var s=t.takeRecords();n(t),s.length&&(t.callback_(s,t),e=!0)}),e&&a()}function n(t){t.nodes_.forEach(function(e){var s=g.get(e);s&&s.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function r(t,e){for(var s=t;s;s=s.parentNode){var a=g.get(s);if(a)for(var n=0;n<a.length;n++){var r=a[n],i=r.options;if(s===t||i.subtree){var o=e(i);o&&r.enqueue(o)}}}}function i(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++x}function o(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(t){var e=new o(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function d(t,e){return k=new o(t,e)}function l(t){return T?T:(T=c(k),T.oldValue=t,T)}function u(){k=T=void 0}function p(t){return t===T||t===k}function f(t,e){return t===e?t:T&&p(t)?T:null}function h(t,e,s){this.observer=t,this.target=e,this.options=s,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var m,g=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var v=[],w=String(Math.random());window.addEventListener("message",function(t){if(t.data===w){var e=v;v=[],e.forEach(function(t){t()})}}),m=function(t){v.push(t),window.postMessage(w,"*")}}var b=!1,y=[],x=0;i.prototype={observe:function(t,e){if(t=s(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var a=g.get(t);a||g.set(t,a=[]);for(var n,r=0;r<a.length;r++)if(a[r].observer===this){n=a[r],n.removeListeners(),n.options=e;break}n||(n=new h(this,t,e),a.push(n),this.nodes_.push(t)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=g.get(t),s=0;s<e.length;s++){var a=e[s];if(a.observer===this){a.removeListeners(),e.splice(s,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var k,T;h.prototype={enqueue:function(t){var s=this.observer.records_,a=s.length;if(s.length>0){var n=s[a-1],r=f(n,t);if(r)return void(s[a-1]=r)}else e(this.observer);s[a]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=g.get(t);e||g.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=g.get(t),s=0;s<e.length;s++)if(e[s]===this){e.splice(s,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,s=t.relatedNode.namespaceURI,a=t.target,n=new d("attributes",a);n.attributeName=e,n.attributeNamespace=s;var i=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;r(a,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||t.attributeFilter.indexOf(e)!==-1||t.attributeFilter.indexOf(s)!==-1))return t.attributeOldValue?l(i):n});break;case"DOMCharacterDataModified":var a=t.target,n=d("characterData",a),i=t.prevValue;r(a,function(t){if(t.characterData)return t.characterDataOldValue?l(i):n});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var o,c,p=t.target;"DOMNodeInserted"===t.type?(o=[p],c=[]):(o=[],c=[p]);var f=p.previousSibling,h=p.nextSibling,n=d("childList",t.target.parentNode);n.addedNodes=o,n.removedNodes=c,n.previousSibling=f,n.nextSibling=h,r(t.relatedNode,function(t){if(t.childList)return n})}u()}},t.JsMutationObserver=i,t.MutationObserver||(t.MutationObserver=i,i._isPolyfilled=!0)}}(self),function(){function t(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}function e(e){return e.replace(u,t)}var s="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&!function(){var t=document.importNode;document.importNode=function(){var e=t.apply(document,arguments);if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var s=document.createDocumentFragment();return s.appendChild(e),s}return e}}();var a=function(){if(!s){var t=document.createElement("template"),e=document.createElement("template");e.content.appendChild(document.createElement("div")),t.content.appendChild(e);var a=t.cloneNode(!0);return 0===a.content.childNodes.length||0===a.content.firstChild.content.childNodes.length}}(),n="template",r=function(){};if(s){var i=document.implementation.createHTMLDocument("template"),o=!0,c=document.createElement("style");c.textContent=n+"{display:none;}";var d=document.head;d.insertBefore(c,d.firstElementChild),r.prototype=Object.create(HTMLElement.prototype),r.decorate=function(t){if(!t.content){t.content=i.createDocumentFragment();for(var s;s=t.firstChild;)t.content.appendChild(s);if(t.cloneNode=function(t){return r.cloneNode(this,t)},o)try{Object.defineProperty(t,"innerHTML",{get:function(){for(var t="",s=this.content.firstChild;s;s=s.nextSibling)t+=s.outerHTML||e(s.data);return t},set:function(t){for(i.body.innerHTML=t,r.bootstrap(i);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;i.body.firstChild;)this.content.appendChild(i.body.firstChild)},configurable:!0})}catch(t){o=!1}r.bootstrap(t.content)}},r.bootstrap=function(t){for(var e,s=t.querySelectorAll(n),a=0,i=s.length;a<i&&(e=s[a]);a++)r.decorate(e)},document.addEventListener("DOMContentLoaded",function(){r.bootstrap(document)});var l=document.createElement;document.createElement=function(){"use strict";var t=l.apply(document,arguments);return"template"===t.localName&&r.decorate(t),t};var u=/[&\u00A0<>]/g}if(s||a){var p=Node.prototype.cloneNode;r.cloneNode=function(t,e){var s=p.call(t,!1);return this.decorate&&this.decorate(s),e&&(s.content.appendChild(p.call(t.content,!0)),this.fixClonedDom(s.content,t.content)),s},r.fixClonedDom=function(t,e){if(e.querySelectorAll)for(var s,a,r=e.querySelectorAll(n),i=t.querySelectorAll(n),o=0,c=i.length;o<c;o++)a=r[o],s=i[o],this.decorate&&this.decorate(a),s.parentNode.replaceChild(a.cloneNode(!0),s)};var f=document.importNode;Node.prototype.cloneNode=function(t){var e=p.call(this,t);return t&&r.fixClonedDom(e,this),e},document.importNode=function(t,e){if(t.localName===n)return r.cloneNode(t,e);var s=f.call(document,t,e);return e&&r.fixClonedDom(s,t),s},a&&(HTMLTemplateElement.prototype.cloneNode=function(t){return r.cloneNode(this,t)})}s&&(window.HTMLTemplateElement=r)}(),function(t){"use strict";if(!window.performance){var e=Date.now();window.performance={now:function(){return Date.now()-e}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?function(e){return t(function(){e(performance.now())})}:function(t){return window.setTimeout(t,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}}());var s=function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}();if(!s){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(a.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var n=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||n&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),s},window.CustomEvent.prototype=window.Event.prototype),!window.Event||n&&"function"!=typeof window.Event){var r=window.Event;window.Event=function(t,e){e=e||{};var s=document.createEvent("Event");return s.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),s},window.Event.prototype=r.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(t){function e(t,e){e=e||h,a(function(){r(t,e)},e)}function s(t){return"complete"===t.readyState||t.readyState===v}function a(t,e){if(s(e))t&&t();else{var n=function(){"complete"!==e.readyState&&e.readyState!==v||(e.removeEventListener(w,n),a(t,e))};e.addEventListener(w,n)}}function n(t){t.target.__loaded=!0}function r(t,e){function s(){c==d&&t&&t({allImports:o,loadedImports:l,errorImports:u})}function a(t){n(t),l.push(this),c++,s()}function r(t){u.push(this),c++,s()}var o=e.querySelectorAll("link[rel=import]"),c=0,d=o.length,l=[],u=[];if(d)for(var p,f=0;f<d&&(p=o[f]);f++)i(p)?(l.push(this),c++,s()):(p.addEventListener("load",a),p.addEventListener("error",r));else s()}function i(t){return u?t.__loaded||t.import&&"loading"!==t.import.readyState:t.__importParsed}function o(t){for(var e,s=0,a=t.length;s<a&&(e=t[s]);s++)c(e)&&d(e)}function c(t){return"link"===t.localName&&"import"===t.rel}function d(t){var e=t.import;e?n({target:t}):(t.addEventListener("load",n),t.addEventListener("error",n))}var l="import",u=Boolean(l in document.createElement("link")),p=Boolean(window.ShadowDOMPolyfill),f=function(t){return p?window.ShadowDOMPolyfill.wrapIfNeeded(t):t},h=f(document),m={get:function(){var t=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return f(t)},configurable:!0};Object.defineProperty(document,"_currentScript",m),Object.defineProperty(h,"_currentScript",m);var g=/Trident/.test(navigator.userAgent),v=g?"complete":"interactive",w="readystatechange";u&&(new MutationObserver(function(t){for(var e,s=0,a=t.length;s<a&&(e=t[s]);s++)e.addedNodes&&o(e.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var t,e=document.querySelectorAll("link[rel=import]"),s=0,a=e.length;s<a&&(t=e[s]);s++)d(t)}()),e(function(t){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var e=h.createEvent("CustomEvent");e.initCustomEvent("HTMLImportsLoaded",!0,!0,t),h.dispatchEvent(e)}),t.IMPORT_LINK_TYPE=l,t.useNative=u,t.rootDocument=h,t.whenReady=e,t.isIE=g}(window.HTMLImports),function(t){var e=[],s=function(t){e.push(t)},a=function(){e.forEach(function(e){e(t)})};t.addModule=s,t.initializeModules=a}(window.HTMLImports),window.HTMLImports.addModule(function(t){var e=/(url\()([^)]*)(\))/g,s=/(@import[\s]+(?!url\())([^;]*)(;)/g,a={resolveUrlsInStyle:function(t,e){var s=t.ownerDocument,a=s.createElement("a");return t.textContent=this.resolveUrlsInCssText(t.textContent,e,a),t},resolveUrlsInCssText:function(t,a,n){var r=this.replaceUrls(t,n,a,e);return r=this.replaceUrls(r,n,a,s)},replaceUrls:function(t,e,s,a){return t.replace(a,function(t,a,n,r){var i=n.replace(/["']/g,"");return s&&(i=new URL(i,s).href),e.href=i,i=e.href,a+"'"+i+"'"+r})}};t.path=a}),window.HTMLImports.addModule(function(t){var e={async:!0,ok:function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status},load:function(s,a,n){var r=new XMLHttpRequest;return(t.flags.debug||t.flags.bust)&&(s+="?"+Math.random()),r.open("GET",s,e.async),r.addEventListener("readystatechange",function(t){if(4===r.readyState){var s=null;try{var i=r.getResponseHeader("Location");i&&(s="/"===i.substr(0,1)?location.origin+i:i)}catch(t){console.error(t.message)}a.call(n,!e.ok(r)&&r,r.response||r.responseText,s)}}),r.send(),r},loadDocument:function(t,e,s){this.load(t,e,s).responseType="document"}};t.xhr=e}),window.HTMLImports.addModule(function(t){var e=t.xhr,s=t.flags,a=function(t,e){this.cache={},this.onload=t,this.oncomplete=e,this.inflight=0,this.pending={}};a.prototype={addNodes:function(t){this.inflight+=t.length;for(var e,s=0,a=t.length;s<a&&(e=t[s]);s++)this.require(e);this.checkDone()},addNode:function(t){this.inflight++,this.require(t),this.checkDone()},require:function(t){var e=t.src||t.href;t.__nodeUrl=e,this.dedupe(e,t)||this.fetch(e,t)},dedupe:function(t,e){if(this.pending[t])return this.pending[t].push(e),!0;return this.cache[t]?(this.onload(t,e,this.cache[t]),this.tail(),!0):(this.pending[t]=[e],!1)},fetch:function(t,a){if(s.load&&console.log("fetch",t,a),t)if(t.match(/^data:/)){var n=t.split(","),r=n[0],i=n[1];i=r.indexOf(";base64")>-1?atob(i):decodeURIComponent(i),setTimeout(function(){this.receive(t,a,null,i)}.bind(this),0)}else{var o=function(e,s,n){this.receive(t,a,e,s,n)}.bind(this);e.load(t,o)}else setTimeout(function(){this.receive(t,a,{error:"href must be specified"},null)}.bind(this),0)},receive:function(t,e,s,a,n){this.cache[t]=a;for(var r,i=this.pending[t],o=0,c=i.length;o<c&&(r=i[o]);o++)this.onload(t,r,a,s,n),this.tail();this.pending[t]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},t.Loader=a}),window.HTMLImports.addModule(function(t){var e=function(t){this.addCallback=t,this.mo=new MutationObserver(this.handler.bind(this))};e.prototype={handler:function(t){for(var e,s=0,a=t.length;s<a&&(e=t[s]);s++)"childList"===e.type&&e.addedNodes.length&&this.addedNodes(e.addedNodes)},addedNodes:function(t){this.addCallback&&this.addCallback(t);for(var e,s=0,a=t.length;s<a&&(e=t[s]);s++)e.children&&e.children.length&&this.addedNodes(e.children)},observe:function(t){this.mo.observe(t,{childList:!0,subtree:!0})}},t.Observer=e}),window.HTMLImports.addModule(function(t){function e(t){return"link"===t.localName&&t.rel===l}function s(t){var e=a(t);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(e)}function a(t){return t.textContent+n(t)}function n(t){var e=t.ownerDocument;e.__importedScripts=e.__importedScripts||0;var s=t.ownerDocument.baseURI,a=e.__importedScripts?"-"+e.__importedScripts:"";return e.__importedScripts++,"\n//# sourceURL="+s+a+".js\n"}function r(t){var e=t.ownerDocument.createElement("style");return e.textContent=t.textContent,i.resolveUrlsInStyle(e),e}var i=t.path,o=t.rootDocument,c=t.flags,d=t.isIE,l=t.IMPORT_LINK_TYPE,u="link[rel="+l+"]",p={documentSelectors:u,importsSelectors:[u,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var t=this.nextToParse();t&&this.parse(t)},parse:function(t){if(this.isParsed(t))return void(c.parse&&console.log("[%s] is already parsed",t.localName));var e=this[this.map[t.localName]];e&&(this.markParsing(t),e.call(this,t))},parseDynamic:function(t,e){this.dynamicElements.push(t),e||this.parseNext()},markParsing:function(t){c.parse&&console.log("parsing",t),this.parsingElement=t},markParsingComplete:function(t){t.__importParsed=!0,this.markDynamicParsingComplete(t),t.__importElement&&(t.__importElement.__importParsed=!0,this.markDynamicParsingComplete(t.__importElement)),this.parsingElement=null,c.parse&&console.log("completed",t)},markDynamicParsingComplete:function(t){var e=this.dynamicElements.indexOf(t);e>=0&&this.dynamicElements.splice(e,1)},parseImport:function(t){if(t.import=t.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(t),t.import&&(t.import.__importParsed=!0),this.markParsingComplete(t),t.__resource&&!t.__error?t.dispatchEvent(new CustomEvent("load",{bubbles:!1})):t.dispatchEvent(new CustomEvent("error",{bubbles:!1})),t.__pending)for(var e;t.__pending.length;)e=t.__pending.shift(),e&&e({target:t});this.parseNext()},parseLink:function(t){e(t)?this.parseImport(t):(t.href=t.href,this.parseGeneric(t))},parseStyle:function(t){var e=t;t=r(t),e.__appliedElement=t,t.__importElement=e,this.parseGeneric(t)},parseGeneric:function(t){this.trackElement(t),this.addElementToDocument(t)},rootImportForElement:function(t){for(var e=t;e.ownerDocument.__importLink;)e=e.ownerDocument.__importLink;return e},addElementToDocument:function(t){var e=this.rootImportForElement(t.__importElement||t);e.parentNode.insertBefore(t,e)},trackElement:function(t,e){var s=this,a=function(n){t.removeEventListener("load",a),t.removeEventListener("error",a),e&&e(n),s.markParsingComplete(t),s.parseNext()};if(t.addEventListener("load",a),t.addEventListener("error",a),d&&"style"===t.localName){var n=!1;if(t.textContent.indexOf("@import")==-1)n=!0;else if(t.sheet){n=!0;for(var r,i=t.sheet.cssRules,o=i?i.length:0,c=0;c<o&&(r=i[c]);c++)r.type===CSSRule.IMPORT_RULE&&(n=n&&Boolean(r.styleSheet))}n&&setTimeout(function(){t.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(e){var a=document.createElement("script");a.__importElement=e,a.src=e.src?e.src:s(e),t.currentScript=e,this.trackElement(a,function(e){a.parentNode&&a.parentNode.removeChild(a),t.currentScript=null}),this.addElementToDocument(a)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(o)||this.nextToParseDynamic())},nextToParseInDoc:function(t,s){if(t&&this._mayParse.indexOf(t)<0){this._mayParse.push(t);for(var a,n=t.querySelectorAll(this.parseSelectorsForNode(t)),r=0,i=n.length;r<i&&(a=n[r]);r++)if(!this.isParsed(a))return this.hasResource(a)?e(a)?this.nextToParseInDoc(a.__doc,a):a:void 0}return s},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===o?this.documentSelectors:this.importsSelectors},isParsed:function(t){return t.__importParsed},needsDynamicParsing:function(t){return this.dynamicElements.indexOf(t)>=0},hasResource:function(t){return!e(t)||void 0!==t.__doc}};t.parser=p,t.IMPORT_SELECTOR=u}),window.HTMLImports.addModule(function(t){function e(t){return s(t,i)}function s(t,e){return"link"===t.localName&&t.getAttribute("rel")===e}function a(t){return!!Object.getOwnPropertyDescriptor(t,"baseURI")}function n(t,e){var s=document.implementation.createHTMLDocument(i);s._URL=e;var n=s.createElement("base");n.setAttribute("href",e),s.baseURI||a(s)||Object.defineProperty(s,"baseURI",{value:e});var r=s.createElement("meta");return r.setAttribute("charset","utf-8"),s.head.appendChild(r),s.head.appendChild(n),s.body.innerHTML=t,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(s),s}var r=t.flags,i=t.IMPORT_LINK_TYPE,o=t.IMPORT_SELECTOR,c=t.rootDocument,d=t.Loader,l=t.Observer,u=t.parser,p={documents:{},documentPreloadSelectors:o,importsPreloadSelectors:[o].join(","),loadNode:function(t){f.addNode(t)},loadSubtree:function(t){var e=this.marshalNodes(t);f.addNodes(e)},marshalNodes:function(t){return t.querySelectorAll(this.loadSelectorsForNode(t))},loadSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===c?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(t,s,a,i,o){if(r.load&&console.log("loaded",t,s),s.__resource=a,s.__error=i,e(s)){var c=this.documents[t];void 0===c&&(c=i?null:n(a,o||t),c&&(c.__importLink=s,this.bootDocument(c)),this.documents[t]=c),s.__doc=c}u.parseNext()},bootDocument:function(t){this.loadSubtree(t),this.observer.observe(t),u.parseNext()},loadedAll:function(){u.parseNext()}},f=new d(p.loaded.bind(p),p.loadedAll.bind(p));if(p.observer=new l,!document.baseURI){var h={get:function(){var t=document.querySelector("base");return t?t.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",h),Object.defineProperty(c,"baseURI",h)}t.importer=p,t.importLoader=f}),window.HTMLImports.addModule(function(t){var e=t.parser,s=t.importer,a={added:function(t){for(var a,n,r,i,o=0,c=t.length;o<c&&(i=t[o]);o++)a||(a=i.ownerDocument,n=e.isParsed(a)),r=this.shouldLoadNode(i),r&&s.loadNode(i),this.shouldParseNode(i)&&n&&e.parseDynamic(i,r)},shouldLoadNode:function(t){return 1===t.nodeType&&n.call(t,s.loadSelectorsForNode(t))},shouldParseNode:function(t){return 1===t.nodeType&&n.call(t,e.parseSelectorsForNode(t))}};s.observer.addCallback=a.added.bind(a);var n=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(t){function e(){window.HTMLImports.importer.bootDocument(a)}var s=t.initializeModules;t.isIE;if(!t.useNative){s();var a=t.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?e():document.addEventListener("DOMContentLoaded",e)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,s=[],a=function(t){s.push(t)},n=function(){s.forEach(function(e){e(t)})};t.addModule=a,t.initializeModules=n,t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function e(t,e){s(t,function(t){return!!e(t)||void a(t,e)}),a(t,e)}function s(t,e,a){var n=t.firstElementChild;if(!n)for(n=t.firstChild;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.nextSibling;for(;n;)e(n,a)!==!0&&s(n,e,a),n=n.nextElementSibling;return null}function a(t,s){for(var a=t.shadowRoot;a;)e(a,s),a=a.olderShadowRoot}function n(t,e){r(t,e,[])}function r(t,e,s){if(t=window.wrap(t),!(s.indexOf(t)>=0)){s.push(t);for(var a,n=t.querySelectorAll("link[rel="+i+"]"),o=0,c=n.length;o<c&&(a=n[o]);o++)a.import&&r(a.import,e,s);e(t)}}var i=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=n,t.forSubtree=e}),window.CustomElements.addModule(function(t){function e(t,e){return s(t,e)||a(t,e)}function s(e,s){return!!t.upgrade(e,s)||void(s&&i(e));
}function a(t,e){b(t,function(t){if(s(t,e))return!0})}function n(t){T.push(t),k||(k=!0,setTimeout(r))}function r(){k=!1;for(var t,e=T,s=0,a=e.length;s<a&&(t=e[s]);s++)t();T=[]}function i(t){x?n(function(){o(t)}):o(t)}function o(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function c(t){d(t),b(t,function(t){d(t)})}function d(t){x?n(function(){l(t)}):l(t)}function l(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function u(t){for(var e=t,s=window.wrap(document);e;){if(e==s)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function p(t){if(t.shadowRoot&&!t.shadowRoot.__watched){w.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)m(e),e=e.olderShadowRoot}}function f(t,s){if(w.dom){var a=s[0];if(a&&"childList"===a.type&&a.addedNodes&&a.addedNodes){for(var n=a.addedNodes[0];n&&n!==document&&!n.host;)n=n.parentNode;var r=n&&(n.URL||n._URL||n.host&&n.host.localName)||"";r=r.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",s.length,r||"")}var i=u(t);s.forEach(function(t){"childList"===t.type&&(C(t.addedNodes,function(t){t.localName&&e(t,i)}),C(t.removedNodes,function(t){t.localName&&c(t)}))}),w.dom&&console.groupEnd()}function h(t){for(t=window.wrap(t),t||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(f(t,e.takeRecords()),r())}function m(t){if(!t.__observer){var e=new MutationObserver(f.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function g(t){t=window.wrap(t),w.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop());var s=t===window.wrap(document);e(t,s),m(t),w.dom&&console.groupEnd()}function v(t){y(t,g)}var w=t.flags,b=t.forSubtree,y=t.forDocumentTree,x=window.MutationObserver._isPolyfilled&&w["throttle-attached"];t.hasPolyfillMutations=x,t.hasThrottledAttached=x;var k=!1,T=[],C=Array.prototype.forEach.call.bind(Array.prototype.forEach),_=Element.prototype.createShadowRoot;_&&(Element.prototype.createShadowRoot=function(){var t=_.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=p,t.upgradeDocumentTree=v,t.upgradeDocument=g,t.upgradeSubtree=a,t.upgradeAll=e,t.attached=i,t.takeRecords=h}),window.CustomElements.addModule(function(t){function e(e,a){if("template"===e.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e),!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var n=e.getAttribute("is"),r=t.getRegisteredDefinition(e.localName)||t.getRegisteredDefinition(n);if(r&&(n&&r.tag==e.localName||!n&&!r.extends))return s(e,r,a)}}function s(e,s,n){return i.upgrade&&console.group("upgrade:",e.localName),s.is&&e.setAttribute("is",s.is),a(e,s),e.__upgraded__=!0,r(e),n&&t.attached(e),t.upgradeSubtree(e,n),i.upgrade&&console.groupEnd(),e}function a(t,e){Object.__proto__?t.__proto__=e.prototype:(n(t,e.prototype,e.native),t.__proto__=e.prototype)}function n(t,e,s){for(var a={},n=e;n!==s&&n!==HTMLElement.prototype;){for(var r,i=Object.getOwnPropertyNames(n),o=0;r=i[o];o++)a[r]||(Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r)),a[r]=1);n=Object.getPrototypeOf(n)}}function r(t){t.createdCallback&&t.createdCallback()}var i=t.flags;t.upgrade=e,t.upgradeWithDefinition=s,t.implementPrototype=a}),window.CustomElements.addModule(function(t){function e(e,a){var c=a||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(n(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(d(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return c.prototype||(c.prototype=Object.create(HTMLElement.prototype)),c.__name=e.toLowerCase(),c.extends&&(c.extends=c.extends.toLowerCase()),c.lifecycle=c.lifecycle||{},c.ancestry=r(c.extends),i(c),o(c),s(c.prototype),l(c.__name,c),c.ctor=u(c),c.ctor.prototype=c.prototype,c.prototype.constructor=c.ctor,t.ready&&g(document),c.ctor}function s(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,s){a.call(this,t,s,e)};var s=t.removeAttribute;t.removeAttribute=function(t){a.call(this,t,null,s)},t.setAttribute._polyfilled=!0}}function a(t,e,s){t=t.toLowerCase();var a=this.getAttribute(t);s.apply(this,arguments);var n=this.getAttribute(t);this.attributeChangedCallback&&n!==a&&this.attributeChangedCallback(t,a,n)}function n(t){for(var e=0;e<x.length;e++)if(t===x[e])return!0}function r(t){var e=d(t);return e?r(e.extends).concat([e]):[]}function i(t){for(var e,s=t.extends,a=0;e=t.ancestry[a];a++)s=e.is&&e.tag;t.tag=s||t.__name,s&&(t.is=t.__name)}function o(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var s=document.createElement(t.tag);e=Object.getPrototypeOf(s)}for(var a,n=t.prototype,r=!1;n;)n==e&&(r=!0),a=Object.getPrototypeOf(n),a&&(n.__proto__=a),n=a;r||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t.native=e}}function c(t){return w(C(t.tag),t)}function d(t){if(t)return k[t.toLowerCase()]}function l(t,e){k[t]=e}function u(t){return function(){return c(t)}}function p(t,e,s){return t===T?f(e,s):_(t,e)}function f(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var s=d(e||t);if(s){if(t==s.tag&&e==s.is)return new s.ctor;if(!e&&!s.is)return new s.ctor}var a;return e?(a=f(t),a.setAttribute("is",e),a):(a=C(t),t.indexOf("-")>=0&&b(a,HTMLElement),a)}function h(t,e){var s=t[e];t[e]=function(){var t=s.apply(this,arguments);return v(t),t}}var m,g=(t.isIE,t.upgradeDocumentTree),v=t.upgradeAll,w=t.upgradeWithDefinition,b=t.implementPrototype,y=t.useNative,x=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],k={},T="http://www.w3.org/1999/xhtml",C=document.createElement.bind(document),_=document.createElementNS.bind(document);m=Object.__proto__||y?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var s=t;s;){if(s===e.prototype)return!0;s=s.__proto__}return!1},h(Node.prototype,"cloneNode"),h(document,"importNode"),document.registerElement=e,document.createElement=f,document.createElementNS=p,t.registry=k,t.instanceof=m,t.reservedTagList=x,t.getRegisteredDefinition=d,document.register=document.registerElement}),function(t){function e(){r(window.wrap(document)),window.CustomElements.ready=!0;var t=window.requestAnimationFrame||function(t){setTimeout(t,16)};t(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var s=t.useNative,a=t.initializeModules;t.isIE;if(s){var n=function(){};t.watchShadow=n,t.upgrade=n,t.upgradeAll=n,t.upgradeDocumentTree=n,t.upgradeSubtree=n,t.takeRecords=n,t.instanceof=function(t,e){return t instanceof e}}else a();var r=t.upgradeDocumentTree,i=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t.import&&i(wrap(t.import))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var o=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(o,e)}else e()}(window.CustomElements),function(t){var e=document.createElement("style");e.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var s=document.querySelector("head");s.insertBefore(e,s.firstChild)}(window.WebComponents)},speechsynthesis:function(){var t=function(t,e,s){var a=[],n=function(t,r){if(e[r]&&t.trim().length)if(t.indexOf(e[r])>-1){var i=1,o=t.split(e[r]);o.forEach(function(t){if(t.length){var c="";i!=o.length&&(c=e[r]),t=(t+c).trim()}t.length&&t.length<=s?a.push(t):n(t,r+1),i++})}else n(t,r+1);else if(t.length)for(var c=new RegExp(".{1,"+s+"}","g"),d=t.match(c);d.length>0;)a.push(d.shift().trim())};n(t,0);var r=[];return a.forEach(function(t){r.length&&r[r.length-1].length+t.length+1<=s?r[r.length-1]+=" "+t:r.push(t)}),r},e=function(e){this.isPolyfill=!0,this.text=e||"",this.lang=document.documentElement.lang||"en-US",this.volume=1,this.rate=1,this.voiceURI="native",this.pitch=1,this.onstart=void 0,this.onend=void 0,this.onerror=void 0,this.onpause=void 0,this.onresume=void 0,this.onmark=void 0,this.onboundary=void 0,this.corsProxyServer="http://www.corsproxy.com/";var s,a,n=this,r={charIndex:void 0,elapsedTime:void 0,name:void 0},i=function(){a=(new Date).getTime(),r.elapsedTime=(a-(s||a))/1e3},o=function(t,e,s){return[t,"translate.google.com/translate_tts?ie=UTF-8&q=",encodeURIComponent(e),"&tl=",s].join("")};return this._initAudio=function(){var e=[];n._ended=!1;var a=new Audio;a.addEventListener("play",function(){i(),s?n.onresume&&n.onresume(r):(s=(new Date).getTime(),n.onstart&&n.onstart(r))},!1),a.addEventListener("ended",function(){if(e.length){var t=o(n.corsProxyServer,e.shift(),n.lang);a.src=t,a.play()}else i(),n._ended=!0,n.onend&&n.onend(r)},!1),a.addEventListener("error",function(){i(),n._ended=!0,n.onerror&&n.onerror(r)},!1),a.addEventListener("pause",function(){n._ended||(i(),n.onpause&&n.onpause(r))},!1);var c=100;n.text.length>c?e=t(n.text,[".","!","?",":",";",","," "],c):e.push(n.text);var d=o(n.corsProxyServer,e.shift(),n.lang);return a.src=d,a.volume=n.volume,a.playbackRate=n.rate,a},this},s=function(){this.isPolyfill=!0,this.pending=!1,this.speaking=!1,this.paused=!1;var t=this,e=new Audio,s=[],a=function(s){var a=s.shift();t.speaking=!1,s.length?t.pending=!0:t.pending=!1,a&&(e=a._initAudio(),n(e,a),c())},n=function(t,e){t.addEventListener("play",function(){},!1),t.addEventListener("ended",function(){e._ended&&a(s)},!1),t.addEventListener("error",function(){a(s)},!1),t.addEventListener("pause",function(){},!1)},r=function(e){t.pending=!0,s.push(e),t.speaking||t.paused||a(s)},i=function(){e.src="",e=void 0,e=new Audio,t.pending=!1,t.speaking=!1,t.paused=!1,s=[],a(s)},o=function(){e.pause(),t.speaking=!1,t.paused=!0},c=function(){e.src?(e.play(),t.speaking=!0):a(s),t.paused=!1},d=function(){return[]};return{isPolyfill:!0,pending:t.pending,speaking:t.speaking,paused:t.paused,speak:function(t){r(t)},cancel:function(){i()},pause:function(){o()},resume:function(){c()},getVoices:function(){d()}}},a=function(){return!(!window.speechSynthesis||!window.SpeechSynthesisUtterance)},n=function(){return a()?window.speechSynthesis:window.speechSynthesisPolyfill},r=function(){return a()?window.SpeechSynthesisUtterance:window.SpeechSynthesisUtterancePolyfill};window.SpeechSynthesisUtterancePolyfill=e,window.speechSynthesisPolyfill=new s,window.nativeSpeechSynthesisSupport=a,window.getSpeechSynthesis=n,window.getSpeechSynthesisUtterance=r}},t.pf.polyfill=function(){window.WebComponents||t.pf.webcomponents(),t.pf.speechsynthesis()}(),t.smarty=function(e){var s={window:parent.window,frameSelector:"#ContentView",fixedSelector:".d2l-minibar",selectorPrefix:"smarty-",focusClass:"tabfocus",className:"smarty",transitionSpeed:.25,crosswords:{enabled:!0,selector:"crossword",name:"crossword",fontResize:!0,fontRatio:700/11,minWidth:20,cellSpacing:2,cellPadding:2,acceptJSON:!0,acceptXML:!0},fillInTheBlanks:{enabled:!1,selector:"fillblank",name:"fill-in-the-blanks"},flashcards:{enabled:!0,selector:"flashcard",name:"flashcards",aspectRatio:.6,fontResize:!0,fontRatio:25,respondAt:400,acceptJSON:!0,acceptXML:!0},quizzes:{enabled:!0,selector:"quiz",name:"quiz",respondAt:600,questionTypes:{multiChoice:"multi-choice",multiAnswer:"multi-answer",shortAnswer:"short-answer",trueFalse:"true-false"},acceptJSON:!0,acceptXML:!0,defaultMode:"sliding"},dragAndDrops:{enabled:!1,selector:"dragdrop",name:"drag-and-drop"},matching:{enabled:!1,selector:"matching",name:"matching"},pickALetter:{enabled:!1,selector:"pickletter",name:"pick-a-letter"},ordering:{enabled:!1,selector:"ordering",name:"ordering"},readSpeaker:{enabled:!0,skipClass:"rs_skip"},debuggingMode:!0},a=t.extend(s,e),n=t(a.window),r=t(a.window.document);t.isset(a.frameSelector)&&(a.frameEnabled=!1,t.exists(r.find(a.frameSelector+" iframe"))&&(a.frameEnabled=!0)),t.smarty.config=a,n.width=n.innerWidth(),n.height=n.innerHeight(),a.debuggingMode&&(n[0].smartyDebug={guideCounter:0,guideIDs:[],guidePrefix:"smarty-debug-guide-"},n[0].smartyDebug.newGuide=function(e){n[0].smartyDebug.guideCounter++;var s=t.extend({prefix:n[0].smartyDebug.guidePrefix,id:n[0].smartyDebug.guideCounter,horizontal:!0,color:"red",position:"0px",text:"","z-index":99999},e);return n[0].smartyDebug.guideIDs.indexOf(s.id)>-1&&(s.id=n[0].smartyDebug.guideCounter),t("<div>",{id:s.prefix+s.id,text:s.text+" [ID: "+s.id+"]"}).css({position:"absolute",width:s.horizontal?"100vw":"1px",height:s.horizontal?"1px":"100vh",color:s.color,background:s.color,top:s.horizontal?s.position:0,left:s.horizontal?0:s.position}).appendTo(t(n[0].document.body)),n[0].smartyDebug.guideIDs.push(s.id),"ID: "+s.id},n[0].smartyDebug.eraseGuide=function(e){var s=t(n[0].document.body).find(n[0].smartyDebug.guidePrefix+e);return!!t.exists(s)&&(s.remove(),n[0].smartyDebug.splice(n[0].smartyDebug.indexOf(e),1),n[0].smartyDebug.guideCounter--,!0)});var i={classify:function(){var e=a.selectorPrefix,s=t().add(e+a.crosswords.selector).add(e+a.fillInTheBlanks.selector).add(e+a.flashcards.selector).add(e+a.quizzes.selector).add(e+a.dragAndDrops.selector).add(e+a.matching.selector).add(e+a.pickALetter.selector).add(e+a.ordering.selector);s.each(function(e){var s=t(this).prop("tagName").toLowerCase();0===s.indexOf(a.selectorPrefix)&&t(this).smartClass(a.className,"add")})},register:function(){var e=function(){var e=[];return t.each(a,function(s,a){t.isset(a.selector)&&e.push(a.selector)}),e}(),s=function(){var e=1==arguments.length?arguments[0]:t.makeArray(arguments);document.registerElement&&t.each(e,function(t,e){var s=a.selectorPrefix+e,n=Object.create(HTMLElement.prototype);document.registerElement(s,n)})};s(e),s("blank","intro","question","answer","score","tracker","report","feedback","attempts","timer","hint","clue","across","down","modal","popclue","card","stack","front","back","sidebar","pane","placeholder","flipper","progress","info")},unwrap:function(e){var s=t(":smarty()");s.each(function(){t(this).parent("p").length>0&&t(this).unwrap("p")}),t.isset(e)&&e()},quizzes:function(){var e=t(":smarty("+a.quizzes.selector+")");e.each(function(e){var s=t(this),r=function(){var r,i,o,c,d,l,u=s.find(":smarty(intro)"),p=s.find(":smarty(question)"),f=s.find(":smarty(blank)"),h=s.find("iframe");if(0===p.length)return!1;var m="quiz"+(e+1);s.attr("id",m);var g,v=s.attr("data-title"),w=s.attr("data-mode"),b=s.attr("data-back"),y=s.attr("data-timed"),x={questions:s.attr("data-shuffle-questions"),answers:s.attr("data-shuffle-answers")},k=0,T={width:0,height:0};if(b=!t.isset(b)||parseBool(b),w=t.isset(w)?w:a.quizzes.defaultMode,y=!!t.isset(y)&&(t.isBoolean(y)?parseBool(y):y),x.questions=!!t.isset(x.questions)&&parseBool(x.questions),x.answers=!!t.isset(x.answers)&&parseBool(x.answers),t.isset(v)&&(r=t("<div>",{class:"title",html:v}).prependTo(s)),y!==!1&&t.exists(u))if(i=t("<"+a.selectorPrefix+"timer>",{html:'<div><div class="text"></div><div class="time"></div></div>'}).appendTo(s),y===!0)i.attr({"data-start":0,"data-end":!1,"data-time":0});else{var C={hhmmss:/(\d){1,2}:(\d){2}:(\d){2}/g,mmss:/(\d){1,2}:(\d){2}/g,ss:/(\d){1,2}/g};C.hhmmss.test(y)?g=y.parseTime("hhmmss"):C.mmss.test(y)?g=y.parseTime("mmss"):C.ss.test(y)&&(g=y.parseTime("ss")),t.isset(g)&&i.attr({"data-start":g.t,"data-end":0,"data-time":g.t})}if(f.each(function(e){t("<span>",{class:"underline"}).appendTo(t(this))}),s.on("quiz:done",function(e){t(this).createReport()}).on("quiz:timeout",function(e){t(this).timeoutQuiz()}).on("quiz:check",function(e){t(this).checkAnswer(e).trigger("quiz:change")}).on("quiz:feedback",function(){t(this).viewReport()}).on("quiz:score",function(e){t(this).runningScore(e)}).on("quiz:time",function(e){t.isset(y)&&y!==!1&&t(this).smartTimer()}).on("quiz:track",function(e){t(this).questionTrack(function(){s.trigger(t.Event("quiz:track:stats",{init:e.init,update:e.update,create:e.create}))})}).on("quiz:track:stats",function(e){e.init||t(this).trackerStats(e)}).on("quiz:change",function(e){h.each(function(){t(this).trigger("frame:resize")})}),t.exists(u)){var _=u.wrapInner("<div>").children("div");if(t.isset(v)){t("<div>",{class:"title",html:"<span>"+v+"</span>"}).prependTo(_)}var q;y!==!1&&y!==!0?q=t("<div>",{class:"notif-timed",html:'You have approximately <span class="fa fa-hourglass-start"></span> <span>'+g.t.toTime().h.pad(2)+":"+g.t.toTime().m.pad(2)+":"+g.t.toTime().s.pad(2)+"</span> to complete this quiz."}).appendTo(_):y===!0&&(q=t("<div>",{class:"notif-timed",html:'Your quiz will be <span class="fa fa-clock-o"></span> <span>timed</span>.'}).appendTo(_));t("<button>",{class:"btn-start",type:"button",html:"Start Quiz"}).appendTo(_).on("click",function(){t(this).smartRemove(),s.trigger("quiz:time")})}if(x.questions&&(p=p.shuffle()),p.smartNumber("decimal"),h.fluidFrames(),p.each(function(e){var n,r,i,o,c=t(this),d=c.find(":smarty(answer)"),l=d.filter('[data-answer]:not([data-answer="false"])'),u=c.find(":smarty(feedback)"),p=c.find(":smarty(hint)"),f=m+"-q"+(e+1);c.attr("id",f);var h,g=c.attr("data-points");switch(0===e&&(T.width+=c.find(".question-num").outerWidth(),T.height+=c.find(".question-num").outerHeight()),!0){case 1==l.length&&d.length>1:h=a.quizzes.questionTypes.multiChoice;break;case l.length>1&&d.length>1:h=a.quizzes.questionTypes.multiAnswer;break;case 1==l.length&&1==d.length:h=a.quizzes.questionTypes.shortAnswer;break;case 0===l.length&&0===d.length:h=a.quizzes.questionTypes.trueFalse}if(c.attr("data-question-type",h),g=t.isset(g)?parseFloat(g):1,k+=g,0===e&&"sliding"==w&&c.smartClass("curr"),c.questionNodes=t(c[0].childNodes).filter(function(t,e){return 3===e.nodeType}).each(function(t,e){e.nodeValue=e.nodeValue.trim()}).filter(function(e,s){return t.isset(s.nodeValue)}),c.questionNodes=c.questionNodes.add(c.children("table, p")),n=t("<span>",{class:"question-txt"}).insertBefore(c.questionNodes.first()),t.each(c.questionNodes,function(e,s){switch(s.nodeType){case 3:n.html(n.html()+t(s).text());break;case 1:n.html(n.html()+t(s).outerHTML())}}),c.questionNodes.remove(),x.answers&&d.length>1&&(d=d.shuffle()),d.smartNumber("alpha"),c.attr("data-answer-count",l.length),t.exists(u)){var v=t("<span>",{class:"message"}).smartClass("hide");u.wrapInner(v)}var b=!1;if(t.exists(p)){p.is('[data-show="true"]')&&(b=!0);var y=t("<span>",{class:"hint"}).smartClass(b===!0?"show":"hide"),C=t("<span>",{class:"hint-txt",text:"Hint"});p.wrapInner(y).find(".hint").prepend(C)}if(h==a.quizzes.questionTypes.multiChoice||h==a.quizzes.questionTypes.multiAnswer||h==a.quizzes.questionTypes.shortAnswer)d.each(function(e){var s=t(this),n=(s.find(".answer-num"),f+"-a"+(e+1));s.attr("id",n);var r,i,o,c=s.attr("data-answer-num");s.textNodes=t(s[0].childNodes).filter(function(t,e){return 3===e.nodeType}).each(function(t,e){e.nodeValue=e.nodeValue.trim()}).filter(function(e,s){return t.isset(s.nodeValue)}),h==a.quizzes.questionTypes.multiChoice?(o=t("<label>",{class:"answer-radio",for:f+c}).css({width:T.width+"px",height:T.height+"px"}).prependTo(s),i=t("<input>",{type:"radio",name:f,id:f+c,value:c}).prependTo(s),t.isset(s.text)&&(r=t("<label>",{class:"answer-txt",for:f+c,text:s.textNodes.text()}).appendTo(s),s.textNodes.remove())):h==a.quizzes.questionTypes.multiAnswer?(o=t("<label>",{class:"answer-checkbox",for:f+c}).css({width:T.width+"px",height:T.height+"px"}).prependTo(s),i=t("<input>",{type:"checkbox",name:f,id:f+c,value:c}).prependTo(s),t.isset(s.text)&&(r=t("<label>",{class:"answer-txt",for:f+c,text:s.textNodes.text()}).appendTo(s),s.textNodes.remove())):h==a.quizzes.questionTypes.shortAnswer&&(i=t("<input>",{type:"text",id:n}).prependTo(s))});else if(h==a.quizzes.questionTypes.trueFalse){var _={true:t("<"+a.selectorPrefix+"answer>"),false:t("<"+a.selectorPrefix+"answer>")};({true:t("<input>",{type:"radio",name:f,id:f+"-true",value:!0}).prependTo(_.true),false:t("<input>",{type:"radio",name:f,id:f+"-false",value:!1}).prependTo(_.false)}),{true:t("<label>",{class:"btn-true",html:"<span>True</span>",for:f+"-true"}).appendTo(_.true),false:t("<label>",{class:"btn-false",html:"<span>False</span>",for:f+"-false"}).appendTo(_.false)};c.find(".question-txt").after(_.true,_.false);var q=c.attr("data-answer");t.isset(q)?(q=parseBool(q),q===!0?(_.true.attr("data-answer",!0),_.false.attr("data_answer",!1)):(_.false.attr("data-answer",!0),_.true.attr("data-answer",!1)),c.removeAttr("data-answer")):c.remove()}"streamline"==w&&(r=t("<button>",{type:"button",html:'<span class="fa fa-check"></span>Check',class:"btn-insta"}).on("click",function(){t(this).is(".disable")||s.trigger(t.Event("quiz:check",{checkAll:!1,targetQuestion:t(this).parent()}))}).appendTo(c)),i=t("<"+a.selectorPrefix+"attempts>",{html:'<span><span class="text">Attempts</span> <span class="total"></span> / <span class="max"></span> </span>'}).appendTo(c),o=t("<button>",{class:"info",type:"button",title:"Click for more details.",html:'<span class="fa fa-question-circle"></span>'}).appendTo(i.children("span")).on("click",function(){var e=t.exists(i.find(".stats"));c.trigger(t.Event("question:attempt:stats",{create:!e,remove:!!e}))}),c.on("question:check",function(e){t(this).checkQuestion(function(e){c.trigger("question:attempt").trigger("question:status").trigger(t.Event("question:feedback",{points:e})),c.trigger(t.Event("question:hint",{points:e,showing:b})),s.trigger("quiz:toggle")})}).on("question:attempt",function(e){t(this).updateAttempts(e,function(t){e.init||c.toggleChecking(t)})}).on("question:attempt:stats",function(e){t(this).attemptStats(e)}).on("question:status",function(e){t(this).updateStatus(function(){s.trigger(t.Event("quiz:track",{update:!0}))})}).on("question:feedback",function(e){t(this).sendFeedback(e),s.trigger("quiz:change")}).on("question:hint",function(e){t(this).giveHint(e)}),c.trigger(t.Event("question:attempt",{init:!0})).trigger(t.Event("question:status",{init:!0}))}),o=t("<button>",{type:"button",html:'<span class="fa fa-check"></span>'+("sliding"==w?"Check Answer":"Check All"),class:"btn-check"}).appendTo(s).on("click",function(){t(this).is(".disable")||("sliding"==w&&s.trigger(t.Event("quiz:check",{checkAll:!1})),"streamline"==w&&s.trigger(t.Event("quiz:check",{checkAll:!0})))}),"streamline"==w){c=p.find(".btn-insta");t("<button>",{class:"btn-done",type:"button",text:"Done"}).on("click",function(){t(this).is(".disable")||s.trigger("quiz:done")}).on("button:created",function(){s.toggleDoneBtn()}).appendTo(s).trigger("button:created");s.on("quiz:scroll",function(e){t(this).scrollQuiz(e).trigger(t.Event("quiz:track",{update:!0}))}).on("quiz:toggle",function(e){t(this).toggleDoneBtn()}),n.on("scroll",function(t){s.trigger("quiz:scroll")})}else"sliding"==w&&(s.on("quiz:question:next",function(e){t(this).nextQuestion(function(){s.trigger("quiz:track").trigger("quiz:question:changed")})}).on("quiz:question:previous",function(e){t(this).prevQuestion(function(){s.trigger("quiz:track").trigger("quiz:question:changed")})}).on("quiz:question:changed",function(e){t(this).toggleCheckBtn().togglePrevBtn().toggleNextBtn().trigger("quiz:change")}).on("quiz:notend",function(e){t(this).removeDoneBtn()}).on("quiz:end",function(e){t(this).createDoneBtn(function(){t(this).toggleDoneBtn()})}).on("quiz:toggle",function(e){t(this).toggleDoneBtn().togglePrevBtn().toggleNextBtn()}),p.length>1&&(l=t("<button>",{type:"button",html:'<span class="fa fa-chevron-left fa-lg"></span>',title:"Previous",class:"btn-prev"}).on("click",function(){t(this).is(".disable")||s.trigger("quiz:question:previous")}).on("button:created",function(){s.togglePrevBtn()}).appendTo(s).trigger("button:created"),d=t("<button>",{type:"button",html:'<span class="fa fa-chevron-right fa-lg"></span>',title:"Next",class:"btn-next"}).on("click",function(){t(this).is(".disable")||s.trigger("quiz:question:next")}).on("button:created",function(){s.toggleNextBtn()}).appendTo(s).trigger("button:created")));var E=(t("<"+a.selectorPrefix+"score>",{"data-max":k,"data-total":0,html:'<span><span class="text">Running Score</span> <span class="total"></span> / <span class="max"></span></span>'}).appendTo(s).on("score:created",function(){s.trigger(t.Event("quiz:score",{init:!0}))}).trigger("score:created"),t("<"+a.selectorPrefix+"tracker>",{html:'<span><span class="text">Question</span> <span class="current"></span> / <span class="total"></span> </span>'}).appendTo(s).on("tracker:created",function(){s.trigger(t.Event("quiz:track",{init:!0}))}).trigger("tracker:created"));t("<button>",{class:"info",type:"button",html:'<span class="fa fa-question-circle"></span>',title:"Click for more details."}).on("click",function(){var e=t.exists(E.find(".stats"));s.trigger(t.Event("quiz:track:stats",{create:!e,remove:!!e}))}).appendTo(E.children("span"))},i=function(e,n,r){return("XML"==e||"JSON"==e)&&(t.each(n,function(n,r){var i={};switch(e){case"XML":var o=t(this);i.question=o.find("question").text(),i.feedback=o.find("feedback").text(),i.hint=o.find("hint").text(),i.hintattempts=o.find("hint").attr("attempts"),i.hintshow=o.find("hint").attr("show"),i.id=o.attr("id"),i.attempts=o.attr("attempts"),i.points=o.attr("points"),i.type=o.attr("type");var c=o.find("option");switch(!0){case c.length>1:i.options=[],i.answer=[],c.each(function(e){i.options.push(t(this).text()),t(this).is('[answer="true"]')&&i.answer.push(e+1)});break;case 1==c.length:i.answer=c.text(),t.isset(c.attr("alts"))&&(i.alts=c.attr("alts").split(",")),i.matchcase=!!t.isset(c.attr("matchcase"))&&c.attr("matchcase");break;case 0===c.length:i.options=[!0,!1],i.answer=o.find("question").attr("answer")}break;case"JSON":i={question:r.question,answer:r.answer,type:r.type,points:r.points,options:r.options,id:r.id,feedback:r.feedback,matchcase:r.matchcase,hint:r.hint,hintattempts:r.hintattempts,hintshow:r.hintshow,alts:r.alts,attempts:r.attempts}}if(!t.isset(i.question))return!0;if(!t.isset(i.answer))return!0;var d=t("<"+a.selectorPrefix+"question>",{"data-points":t.isset(i.points)?i.points:1,"data-attempts":t.isset(i.attempts)?i.attempts:"infinite","data-id":t.isset(i.id)?i.id:""}).html(i.question);if(i.questionType=["multichoice","multianswer","shortanswer","truefalse"],i.questionIs=!1,t.isset(i.type)&&i.questionType.indexOf(i.type)>0?i.questionIs=i.type:t.isset(i.options)&&(i.options.compare([!0,!1])||i.options.compare([!1,!0]))?i.questionIs=i.questionType[3]:t.isset(i.options)||t.isArray(i.answer)?t.isset(i.options)&&t.isArray(i.options)&&i.options.length>1&&t.isArray(i.answer)&&i.answer.length>1?i.questionIs=i.questionType[1]:t.isset(i.options)&&t.isArray(i.options)&&i.options.length>1&&(t.isArray(i.answer)&&1==i.answer.length||!t.isArray(i.answer))&&(i.questionIs=i.questionType[0]):i.questionIs=i.questionType[2],i.questionIs===!1)return!0;var l=function(e){var s=!1;return t.isArray(i.answer)?t.each(i.answer,function(t,a){if(a-1==e)return s=!0,!1}):i.answer-1==e&&(s=!0),s},u=function(e){var s="";return t.isset(e)&&(s+=t.isArray(e)?e.join(";"):e),s},p=t();switch(i.questionIs){case i.questionType[0]:case i.questionType[1]:t.each(i.options,function(e,s){var n=t("<"+a.selectorPrefix+"answer>",{"data-answer":l(e)}).html(s);p=p.add(n)}),d.append(p);break;case i.questionType[2]:var f=t("<"+a.selectorPrefix+"answer>",{"data-answer":i.answer,"data-answer-alts":u(i.alts),"data-case-sensitive":!!t.isset(i.matchcase)&&i.matchcase});p=p.add(f),d.append(p);break;case i.questionType[3]:t.isArray(i.answer)&&(i.answer=i.answer[0]),t.isNumeric(i.answer)&&(i.answer=i.options[i.answer-1]),d.attr("data-answer",i.answer)}t.isset(i.feedback)&&t("<"+a.selectorPrefix+"feedback>").html(i.feedback).appendTo(d),t.isset(i.hint)&&t("<"+a.selectorPrefix+"hint>",{"data-attempts":t.isset(i.hintattempts)?i.hintattempts:1,"data-show":!!t.isset(i.hintshow)&&i.hintshow}).html(i.hint).appendTo(d),s.append(d)}),t.isset(r)&&r(),!0)},o=!!t.isset(s.attr("data-file"))&&s.attr("data-file");o!==!1&&a.quizzes.acceptJSON&&o.endsWith(".json")?t.getJSON(o,function(t){i("JSON",t,r)}):o!==!1&&a.quizzes.acceptXML&&o.endsWith(".xml")?t.ajax({type:"GET",url:o,dataType:"xml",success:function(e){i("XML",t(e).find("quiz > question"),r)}}):r()})},crosswords:function(){t.smarty.crossword={data:{}};var e=t(":smarty("+a.crosswords.selector+")");e.each(function(e){var s=t(this),r=function(){var r,i,o,c,d,l,u,p,f=s.find(":smarty(clue)"),h=f.filter('[data-direction="across"]'),m=f.filter('[data-direction="down"]'),g=f.find(":smarty(blank)"),v=a.crosswords.selector+(e+1);s.attr("id",v);var w=s.attr("data-title");t.isset(w)&&(o=t("<div>",{class:"title",text:w}).prependTo(s)),g.each(function(e){t("<span>",{class:"underline"}).appendTo(t(this))});var b=[];f.each(function(e){var s=t(this).clueData();b.push(s)}),b.sort(function(t,e){return t.start.y-e.start.y||t.start.x-e.start.x});var y={x:1,y:1,n:1};t.each(b,function(t,e){y.x==e.start.x&&y.y==e.start.y?e.number=y.n:(y.n+=1,y.x=e.start.x,y.y=e.start.y,e.number=y.n)}),t.smarty.crossword.data[v]=b;var x={rows:0,cols:0};t.each(b,function(t,e){x.rows<e.end.y&&(x.rows=e.end.y),x.cols<e.end.x&&(x.cols=e.end.x)}),c=t("<table>",{class:"grid",cellspacing:a.crosswords.cellSpacing,cellpadding:a.crosswords.cellPadding,"data-rows":x.rows,"data-cols":x.cols}),t.repeat(x.rows,function(e){var s=t("<tr>");t.repeat(x.cols,function(a){t("<td>",{"data-coords":a+","+e}).css({width:"calc(100% / "+x.cols+")"}).appendTo(s)}),s.appendTo(c)}),a.crosswords.respondAt=x.cols*a.crosswords.minWidth+x.cols*a.crosswords.cellSpacing,t.smarty.config.crosswords.respondAt=a.crosswords.respondAt,c.appendTo(s),d=c.find("td"),c.on("grid:resize",function(){d.each(function(e){t(this).height(t(this).width()),a.crosswords.fontResize&&c.width()>=a.crosswords.respondAt&&t(this).find("input").css({"font-size":c.width()/a.crosswords.fontRatio+"px"})})}),t.each(b,function(e,s){var a,n={},r=t();if("across"==s.direction){n.x=[],n.y=s.start.y;for(var i=s.start.x;i<=s.end.x;i++)n.x.push(i);d.each(function(e){var s=t(this).getCoords();n.x.indexOf(s.x)>-1&&s.y==n.y&&(r=r.add(t(this)))}),r.each(function(e){t(this).smartClass("word across","add")}),r.each(function(e){var a=t(this),n=s.answer,i=v+"-"+n,o=n.charAt(e),c=s.number,d=a.find("input");if(t.exists(d)||(d=t("<input>",{type:"text",maxlength:1,"data-char":o}).appendTo(a)),d.attr({"data-across":i,"data-across-word":n,"data-across-number":c,"data-across-first":0===e,"data-across-last":e==r.length-1}),0===e){var l=a.find(".number");t.exists(l)||(l=t("<span>",{class:"number",html:s.number}).appendTo(a)),a.find("input").attr("tabindex",0).attr("data-no-tab",!1)}else a.find("input").attr("tabindex",-1).attr("data-no-tab",!0)}),a=r.find("input"),a.each(function(e){t(this).on("focus blur",function(e){"focus"==e.type&&t(this).smartClass("curr","add"),"blur"==e.type&&t(this).smartClass("curr","remove");var s=t(this).attr("data-across"),a=t('input[data-across="'+s+'"]');a.each(function(s){"focus"==e.type&&t(this).smartClass("highlight","add"),"blur"==e.type&&t(this).smartClass("highlight","remove")})})})}else if("down"==s.direction){n.x=s.start.x,n.y=[];for(var o=s.start.y;o<=s.end.y;o++)n.y.push(o);d.each(function(e){var s=t(this).getCoords();n.y.indexOf(s.y)>-1&&s.x==n.x&&(r=r.add(t(this)))}),r.each(function(e){t(this).smartClass("word down","add");
}),r.each(function(e){var a=t(this),n=s.answer,i=v+"-"+n,o=n.charAt(e),c=s.number,d=a.find("input");if(t.exists(d)||(d=t("<input>",{type:"text",maxlength:1,"data-char":o}).appendTo(a)),d.attr({"data-down":i,"data-down-word":n,"data-down-number":c,"data-down-first":0===e,"data-down-last":e==r.length-1}),0===e){var l=a.find(".number");t.exists(l)||(l=t("<span>",{class:"number",html:s.number}).appendTo(a)),a.find("input").attr("tabindex",0).attr("data-no-tab",!1)}else a.find("input").attr("tabindex",-1).attr("data-no-tab",!0)}),a=r.find("input"),a.each(function(e){t(this).on("focus blur",function(e){"focus"==e.type&&t(this).smartClass("curr","add"),"blur"==e.type&&t(this).smartClass("curr","remove");var s=t(this).attr("data-down"),a=t('input[data-down="'+s+'"]');a.each(function(s){"focus"==e.type&&t(this).smartClass("highlight","add"),"blur"==e.type&&t(this).smartClass("highlight","remove")})})})}}),l=d.find("input"),l.each(function(e){var s=t(this),a={tab:9,left:37,up:38,right:39,down:40,backspace:8,delete:46,letters:[65,90]};s.on("keydown",function(e){switch(a.code=e.keyCode,a.shift=e.shiftKey,a.meta=e.metaKey,a.ctrl=e.ctrlKey,!0){case a.code>=a.letters[0]&&a.code<=a.letters[1]:s.replaceInput(e).nextInput().trigger("change:value");break;case a.code==a.delete:s.clearInput().trigger("change:value");break;case a.code==a.backspace:s.clearInput().trigger("change:value").previousInput().trigger("change:value");break;case a.code==a.left||a.code==a.right||a.code==a.up||a.code==a.down:s.shiftInput(e);break;case a.code==a.tab:t.smarty.crossword.inputDirection!==!1&&(t.smarty.crossword.inputDirection=!1),s.shiftTab(e);break;case(a.code<a.letters[0]||a.code>a.letters[1])&&a.code!=a.tab&&a.code!=a.left&&a.code!=a.up&&a.code!=a.down&&a.code!=a.right&&a.code!=a.backspace&&a.code!=a.delete:e.preventDefault()}}),s.on("focus blur",function(e){t(this).highlightClue(e).popoutClue()}),s.on("change:value",function(e){t(this).checkoffWord().checkCrossword()})}),r=t("<"+a.selectorPrefix+"across>",{html:'<span class="title">Across</span>'}).append(h).appendTo(s),i=t("<"+a.selectorPrefix+"down>",{html:'<span class="title">Down</span>'}).append(m).appendTo(s),f.each(function(){var e=t(this);e.on("clue:checkoff",function(e){t(this).checkoffClue(e)});var s=e.wrapInner('<span class="clue-txt">').children(".clue-txt"),a=t("<span>",{class:"clue-box",html:"<span></span>"}).insertBefore(s);a.on("click",function(){e.trigger(t.Event("clue:checkoff",{autoCheckoff:!1}))});var n=(t("<input>",{type:"checkbox"}).insertBefore(a),t("<span>",{class:"clue-num"})),r=e.clueData();t.each(b,function(t,s){s.answer==r.answer&&s.direction==r.direction&&s.text==r.text&&(n.html("<span>"+s.number+"</span>"),e.attr("data-number",s.number))}),e.prepend(n)}),h=t.reorder(h,"data-number","ASC"),m=t.reorder(m,"data-number","ASC"),u=t("<button>",{type:"button",class:"btn-reset",text:"Reset Puzzle"}).insertAfter(c),u.on("click",function(){s.trigger("crossword:reset")}),p=t("<button>",{type:"button",class:"btn-reveal",text:"Reveal Answers"}).insertAfter(u),p.on("click",function(){s.trigger("crossword:reveal")}),s.on("crossword:reset",function(e){t(this).resetCrossword()}).on("crossword:reveal",function(e){t(this).revealCrossword()}).on("crossword:validate",function(e){t(this).validateCrossword(e,function(){t.smarty.accessibility.setup()})}).on("crossword:complete",function(e){t(this).completeCrossword()}).on("crossword:resize",function(e){t(this).compatibilityCrossword(function(){c.trigger("grid:resize")})}),s.trigger("crossword:resize"),n.on("load",function(){s.trigger("crossword:resize")}),n.on("resize",function(){s.trigger("crossword:resize")})},i=function(e,n,r){return("XML"==e||"JSON"==e)&&(t.each(n,function(n,r){var i={};switch(e){case"XML":var o=t(this);i.prompt=o.find("prompt").text(),i.answer=o.attr("answer"),i.position=o.attr("position").split(","),i.direction=o.attr("direction");break;case"JSON":i={prompt:r.prompt,answer:r.answer,position:r.position,direction:r.direction}}if(!t.isset(i.prompt))return!0;if(!t.isset(i.answer))return!0;if(!t.isset(i.position))return!0;if(!t.isset(i.direction))return!0;var c=t("<"+a.selectorPrefix+"clue>",{"data-answer":i.answer,"data-position":i.position.join(","),"data-direction":i.direction}).html(" "+i.prompt);s.append(c)}),t.isset(r)&&r(),!0)},o=!!t.isset(s.attr("data-file"))&&s.attr("data-file");o!==!1&&a.crosswords.acceptJSON&&o.endsWith(".json")?t.getJSON(o,function(t){i("JSON",t,r)}):o!==!1&&a.crosswords.acceptXML&&o.endsWith(".xml")?t.ajax({type:"GET",url:o,dataType:"xml",success:function(e){i("XML",t(e).find("crossword > clue"),r)}}):r()})},flashcards:function(){t.smarty.flashcard={cardLock:!1};var e=t(":smarty("+a.flashcards.selector+")");e.each(function(e){var s=t(this),r=function(){var r,i,o,c,d,l,u,p,f,h,m,g,v,w,b,y=s.find(":smarty(card)");if(0===y.length)return!1;var x=a.flashcards.selector+(e+1);s.attr("id",x);var k=s.attr("data-title"),T=s.attr("data-side");s.attr("data-flipback");t.isset(T)||(T="front",s.attr("data-side",T)),t.isset(k)&&(r=t("<div>",{class:"title",html:"<span>"+k+"</span>"}).prependTo(s)),d=t("<"+a.selectorPrefix+"sidebar>").appendTo(s),o=t("<"+a.selectorPrefix+"pane>").smartClass("hide").appendTo(s),c=t("<button>",{type:"button",class:"btn-tts",title:"Listen",html:'<span class="fa fa-volume-down fa-2x"></span>'}).appendTo(o),c.on("click",function(){var e=t(this),s=e.siblings(".btn-tts-pause"),n=e.siblings(".btn-tts-stop"),r=e.parent().find(":smarty(info).show").text();t.tts.cancel();var i=t(t.tts.speak(r)).on("speech:start",function(r){t.exists(s)||(s=t("<button>",{type:"button",class:"btn-tts-pause",title:"Pause",tabindex:0,html:'<span class="fa fa-pause fa-lg"></span>'}).insertAfter(e).on("focus blur",function(){t(this).smartClass(a.focusClass)}).on("click",function(){return t.tts.isPaused()?i.trigger("speech:resume"):i.trigger("speech:pause"),!1}).on("keydown",function(t){var e={code:t.keyCode,enter:13};if(e.code==e.enter)return t.preventDefault(),s.click(),!1})),t.exists(n)||(n=t("<button>",{type:"button",class:"btn-tts-stop",title:"Stop",tabindex:0,html:'<span class="fa fa-stop fa-lg"></span>'}).insertAfter(s).on("focus blur",function(){t(this).smartClass(a.focusClass)}).on("click",function(){return i.trigger("speech:cancel"),!1}).on("keydown",function(t){var e={code:t.keyCode,enter:13};if(e.code==e.enter)return t.preventDefault(),n.click(),!1})),e.attr("data-speaking",t.tts.isSpeaking())}).on("speech:end",function(a){e.attr("data-speaking",t.tts.isSpeaking()),s.remove(),n.remove()}).on("speech:cancel",function(e){t.tts.cancel(),i.trigger("speech:end")}).on("speech:pause",function(a){t.tts.pause(),e.attr("data-speaking",t.tts.isSpeaking()),s.find("span").smartClass("fa-pause fa-play")}).on("speech:resume",function(){t.tts.resume(),e.attr("data-speaking",t.tts.isSpeaking()),s.find("span").smartClass("fa-pause fa-play")}).on("end",function(){}).trigger("speech:start");if(void 0===i.end)var o=setInterval(function(){t.tts.isSpeaking()===!1&&(clearInterval(o),i.trigger("speech:end"))},100);return!1}),i=t("<"+a.selectorPrefix+"stack>").append(y).appendTo(s),l=t("<"+a.selectorPrefix+"tracker>",{html:'<div><span class="text">Flashcard</span> <span class="tracker"><span class="current">1</span> / <span class="total">'+y.length+"</span></span></div>"}).appendTo(d),u=t("<"+a.selectorPrefix+"progress>",{"data-for":"tracker",html:'<span class="bar"></span>',"data-progress":parseFloat(1/y.length*100)+"%"}).insertBefore(l),u.on("progress:update",function(){t(this).find(".bar").css({width:t(this).attr("data-progress")})}),u.trigger("progress:update"),p=t("<"+a.selectorPrefix+"flipper>",{html:'<div><span class="text">Showing</span> <span class="side">'+T.concat("s")+"</span></div>"}).appendTo(d),h=t("<button>",{type:"button",class:"btn-flip",title:"Flip Cards",html:'<span class="fa fa-refresh"></span>Flip'}).appendTo(d),h.on("click",function(){s.swapSides(),y.each(function(){t(this).trigger("card:flip")})}),m=t("<button>",{type:"button",class:"btn-shuffle",title:"Shuffle Cards",html:'<span class="fa fa-random"></span>Shuffle'}).appendTo(d),m.on("click",function(){y=y.shuffleCards()}),y.each(function(e){var r=t(this),i=r.find("iframe"),c=r.find(":smarty(info)"),d=x+"-card"+[e+1];r.attr("id",d),t.exists(c)?(r.attr("data-info",!0),c.attr({"data-for":d}).smartClass("hide").appendTo(o)):r.attr("data-info",!1);var l={answer:r.attr("data-answer"),question:r.contents()};i.fluidFrames(),r.attr("title","Click to Flip");var u=t("<"+a.selectorPrefix+"front>").append(t("<div>",{class:"text"}).append(l.question)).appendTo(r),p=t("<"+a.selectorPrefix+"back>").append(t("<div>",{class:"text"}).html(l.answer)).appendTo(r),f=[u,p];t.repeat(f.length,function(e){var s=t("<button>",{type:"button",class:"btn-tts",title:"Listen",html:'<span class="fa fa-volume-down fa-2x"></span>'}).appendTo(f[e-1]);s.on("click",function(e){var s=t(this),n=s.siblings(".btn-tts-pause"),r=s.siblings(".btn-tts-stop"),i=s.siblings(".text").text();t.tts.cancel();var o=t(t.tts.speak(i)).on("speech:start",function(e){t.exists(n)||(n=t("<button>",{type:"button",class:"btn-tts-pause",title:"Pause",tabindex:0,html:'<span class="fa fa-pause fa-lg"></span>'}).insertAfter(s).on("focus blur",function(){t(this).smartClass(a.focusClass)}).on("click",function(){return t.tts.isPaused()?o.trigger("speech:resume"):o.trigger("speech:pause"),!1}).on("keydown",function(t){var e={code:t.keyCode,enter:13};if(e.code==e.enter)return t.preventDefault(),n.click(),!1})),t.exists(r)||(r=t("<button>",{type:"button",class:"btn-tts-stop",title:"Stop",tabindex:0,html:'<span class="fa fa-stop fa-lg"></span>'}).insertAfter(n).on("focus blur",function(){t(this).smartClass(a.focusClass)}).on("click",function(){return o.trigger("speech:cancel"),!1}).on("keydown",function(t){var e={code:t.keyCode,enter:13};if(e.code==e.enter)return t.preventDefault(),r.click(),!1})),s.attr("data-speaking",t.tts.isSpeaking())}).on("speech:end",function(e){s.attr("data-speaking",t.tts.isSpeaking()),n.remove(),r.remove()}).on("speech:cancel",function(e){t.tts.cancel(),o.trigger("speech:end")}).on("speech:pause",function(e){t.tts.pause(),s.attr("data-speaking",t.tts.isSpeaking()),n.find("span").smartClass("fa-pause fa-play")}).on("speech:resume",function(){t.tts.resume(),s.attr("data-speaking",t.tts.isSpeaking()),n.find("span").smartClass("fa-pause fa-play")}).on("end",function(){o.trigger("speech:end")}).trigger("speech:start");if(void 0===o.end)var c=setInterval(function(){t.tts.isSpeaking()===!1&&(clearInterval(c),o.trigger("speech:end"))},100);return!1});t("<div>",{class:"notif-ctf",html:'<span class="fa fa-undo"></span>Click to Flip'}).appendTo(f[e-1])}),"front"==T&&r.attr("data-flip","front"),"back"==T&&r.attr("data-flip","back"),r.on("card:resize",function(e){t(this).css({height:r.outerWidth()*a.flashcards.aspectRatio+"px"}),a.flashcards.fontResize&&r.outerWidth()>=a.flashcards.respondAt&&t(this).find(".text").css({"font-size":r.outerWidth()/a.flashcards.fontRatio+"px"})}).on("card:flip",function(e){t(this).flipCard(function(){s.rsToggle()}),t(this).is(".curr")&&t(this).trigger("card:info"),setTimeout(function(){t.smarty.accessibility.setup()},1e3*a.transitionSpeed),t(this).trigger("card:change")}).on("card:next",function(e){t(this).nextCard(!1,function(){s.rsToggle()}).trigger("card:info").trigger("card:change"),setTimeout(function(){t.smarty.accessibility.setup()},1e3*a.transitionSpeed*4)}).on("card:previous",function(e){t(this).prevCard(!1,function(){s.rsToggle()}).trigger("card:info").trigger("card:change"),setTimeout(function(){t.smarty.accessibility.setup()},1e3*a.transitionSpeed*4)}).on("card:start",function(e){t(this).toggleFirst().togglePrev().trigger("card:info")}).on("card:between",function(e){t(this).toggleNext().togglePrev().toggleFirst().toggleLast()}).on("card:end",function(e){t(this).toggleLast().toggleNext()}).on("card:shuffle",function(e){t(this).toggleNext().togglePrev().toggleFirst().toggleLast()}).on("card:first",function(e){t(this).firstCard(function(){s.rsToggle()}).toggleFirst().togglePrev().trigger("card:info").trigger("card:change")}).on("card:last",function(e){t(this).lastCard(function(){s.rsToggle()}).toggleLast().toggleNext().trigger("card:info").trigger("card:change")}).on("card:info",function(e){t(this).toggleInfo().trigger("card:change")}).on("card:change",function(e){i.each(function(){t(this).trigger("frame:resize")})}),r.trigger("card:resize"),n.on("resize",function(){r.trigger("card:resize")}),r.on("click",function(){t(this).trigger("card:flip")})}),f=t("<"+a.selectorPrefix+"placeholder>").prependTo(i),f.on("placeholder:resize",function(e){t(this).css({height:f.outerWidth()*a.flashcards.aspectRatio+"px"})}),n.on("resize",function(){f.trigger("placeholder:resize")}),f.trigger("placeholder:resize"),g=t("<button>",{class:"btn-first",title:"Go to First",html:'<span class="fa fa-chevron-left fa-lg"></span><span class="fa fa-chevron-left fa-lg"></span>'}).appendTo(i),g.on("click",function(){y.filter(".curr").trigger("card:first")}),w=t("<button>",{class:"btn-prev",title:"Previous",html:'<span class="fa fa-chevron-left fa-lg"></span>'}).appendTo(i),w.on("click",function(){y.filter(".curr").trigger("card:previous")}),v=t("<button>",{type:"button",class:"btn-next",title:"Next",html:'<span class="fa fa-chevron-right fa-lg"></span>'}).appendTo(i),v.on("click",function(){y.filter(".curr").trigger("card:next")}),b=t("<button>",{class:"btn-last",title:"Go to Last",html:'<span class="fa fa-chevron-right fa-lg"></span><span class="fa fa-chevron-right fa-lg"></span>'}).appendTo(i),b.on("click",function(){y.filter(".curr").trigger("card:last")}),y.first().smartClass("curr").trigger("card:start"),y.first().next().smartClass("next"),s.rsToggle()},i=function(e,n,r){return("XML"==e||"JSON"==e)&&(t.each(n,function(n,r){var i={};switch(e){case"XML":var o=t(this);i.prompt=o.find("prompt").text(),i.answer=o.attr("answer"),i.info=o.find("info").text();break;case"JSON":i={prompt:r.prompt,answer:r.answer,info:r.info}}if(!t.isset(i.prompt))return!0;if(!t.isset(i.answer))return!0;var c=t("<"+a.selectorPrefix+"card>",{"data-answer":i.answer}).html(i.prompt);t.isset(i.info)&&t("<"+a.selectorPrefix+"info>").html(i.info).appendTo(c),s.append(c)}),t.isset(r)&&r(),!0)},o=!!t.isset(s.attr("data-file"))&&s.attr("data-file");o!==!1&&a.flashcards.acceptJSON&&o.endsWith(".json")?t.getJSON(o,function(t){i("JSON",t,r)}):o!==!1&&a.flashcards.acceptXML&&o.endsWith(".xml")?t.ajax({type:"GET",url:o,dataType:"xml",success:function(e){i("XML",t(e).find("flashcard > card"),r)}}):r()})}};t.smarty.accessibility={tabbables:':smarty() button, :smarty() a,  :smarty() label.answer-radio, :smarty() label.answer-checkbox, :smarty() input[type="text"][data-no-tab="false"], :smarty() span.clue-box, :smarty(card).curr, :smarty(info)',untabbables:":smarty(card):not(.curr), :smarty(card):not(.curr) button, :smarty(card):attr(data-flip,front).curr :smarty(back) button, :smarty(card):attr(data-flip,back).curr :smarty(front) button ",clickables:":smarty() button, :smarty() a, :smarty() label.answer-radio, :smarty() label.answer-checkbox, :smarty() span.clue-box, :smarty(card) ",setup:function(){var e=t(this.tabbables);e.each(function(e){t(this).is('[tabindex="0"]')||(t(this).attr("tabindex",0),t(this).is('[data-accessible="false"]')&&t(this).attr("data-accessible",!0),t(this).on("focus blur",function(){t(this).smartClass(a.focusClass)}))});var s=t(this.untabbables);s.each(function(e){t(this).is('[tabindex="0"]')&&(t(this).attr("tabindex",-1),t(this).is('[data-accessible="true"]')&&t(this).attr("data-accessible",!1),t(this).unbind("focus blur"))});var n=t(this.clickables);n.each(function(e){t(this)[0].hasAttribute("data-accessible")||(t(this).attr("data-accessible",!0),t(this).on("keydown",function(e){if(t(this).is('[data-accessible="true"]')&&13===e.keyCode)return e.preventDefault(),t(this).click(),!1}))})}},t(window).on("WebComponentsReady",function(){i.classify(),i.register(),i.unwrap(function(){a.quizzes.enabled&&i.quizzes(),a.crosswords.enabled&&i.crosswords(),a.flashcards.enabled&&i.flashcards(),t.smarty.accessibility.setup()})})},t.fn.fluidFrames=function(){var e=t(this);if(0===e.length)return!1;var s=function(e){var s=t(e),a={oldWidth:parseInt(s.attr("width")),oldHeight:parseInt(s.attr("height"))};a.aspectRatio=a.oldHeight/a.oldWidth,s.attr({"data-aspect-ratio":a.aspectRatio})},a=function(e){var s=t(e),a={aspectRatio:parseFloat(s.attr("data-aspect-ratio")),parentWidth:s.parent().width(),parentHeight:s.parent().height()};a.newWidth=a.parentWidth,a.newHeight=a.newWidth*a.aspectRatio,s.css({width:a.newWidth+"px",height:a.newHeight+"px"})};return e.each(function(){$frame=t(this),$frame.on("frame:size",function(){s(this)}).on("frame:resize",function(){var t=this;setTimeout(function(){a(t)},10)}),t(t.smarty.config.window).on("load resize",function(){$frame.trigger("frame:resize")}),$frame.trigger("frame:size").trigger("frame:resize")}),!0},t.fn.smartClass=function(e,s){var a=t(this);return e=t.toArray(e),"add"==s?t.each(e,function(t,e){a.hasClass(e)||a.addClass(e)}):"remove"==s?t.each(e,function(t,e){a.hasClass(e)&&a.removeClass(e)}):t.each(e,function(t,e){a.hasClass(e)?a.removeClass(e):a.addClass(e)}),a},t.fn.smartNumber=function(e,s,a){var n,r,i=t(this);if("decimal"==e)n=t.isset(s)?s:"",r=t.isset(a)?a:"",i.each(function(e){var s=e+1,a=t("<span>",{class:"question-num",html:"<span>"+n+s+r+"</span>"});t(this).prepend(a).attr("data-question-num",s),a.after(" ")});else if("alpha"==e){n=t.isset(s)?s:"",r=t.isset(a)?a:"";var o=t.toArray("a b c d e f g h i j k l m n o p q r s t u v w x y z"),c=1,d="",l=o[c-1],u=function(){c++,c%27===0?(d=""===d?o[0]:o[o.indexOf(d)+1],l=o[c-27]):l=o[o.indexOf(l)+1]},p={corrects:i.filter('[data-answer="true"]').length,answers:i.length};i.each(function(e){var s,a=t(this).parent().attr("id"),i=a+l;if(1==p.corrects&&p.answers>1&&(s=t.smarty.config.quizzes.questionTypes.multiChoice),p.corrects>1&&p.answers>1&&(s=t.smarty.config.quizzes.questionTypes.multiAnswer),1==p.corrects&&1==p.answers&&(s=t.smarty.config.quizzes.questionTypes.shortAnswer),0===p.corrects&&0===p.answers&&(s=t.smarty.config.quizzes.questionTypes.trueFalse),s==t.smarty.config.quizzes.questionTypes.multiChoice||s==t.smarty.config.quizzes.questionTypes.multiAnswer){var o=t("<label>",{class:"answer-num",for:i,html:"<span>"+n+d+l.toUpperCase()+r+"</span>"});t(this).prepend(o).attr("data-answer-num",l),o.after(" "),u()}})}},t.fn.scrollQuiz=function(e){var s,a,n=t(this),r=n.find(":smarty(tracker)"),i=r.find(".stats"),o=n.find(":smarty(score)"),c=n.find(":smarty(timer)"),d=t(t.smarty.config.window),l=t(t.smarty.config.window.document),u=t.smarty.config.frameEnabled,p=t.smarty.config.frameSelector,f=t.smarty.config.fixedSelector,h=!1,m=!1;u&&(t.isset(p)&&t.exists(l.find(p))&&(h=!0,s=l.find(p)),t.isset(f)&&t.exists(l.find(f))&&(m=!0,a=l.find(f))),d.top=d.scrollTop(),d.height=d.innerHeight(),d.width=d.innerWidth(),n.top=n.offset().top,n.height=n.height(),r.height=r.outerHeight(),o.height=o.outerHeight(),c.height=t.exists(c)?c.outerHeight():0,i.height=t.exists(i)?i.outerHeight():0;var g=h?s.offset().top:0,v=m?a.height():0,w=5,b={start:n.top+g-v+w};if(d.width>t.smarty.config.quizzes.respondAt)switch(b.stop=n.top+g-v+n.height-r.height-o.height-c.height-i.height-2*w,!0){case d.top>=b.start&&d.top<=b.stop:r.css({top:1*w+(d.top-b.start)+"px"}),o.css({top:2*w+r.height+i.height+(d.top-b.start)+"px"}),t.exists(c)&&c.css({top:3*w+r.height+o.height+i.height+(d.top-b.start)+"px"});break;case d.top>b.stop:r.css({top:b.stop-b.start+1*w+"px"}),o.css({top:b.stop-b.start+r.height+2*w+"px"}),t.exists(c)&&c.css({top:b.stop-b.start+r.height+o.height+3*w+"px"});break;case d.top<b.start:r.css({top:""}),t.exists(i)?(o.css({top:o.height+i.height+2*w+"px"}),t.exists(c)&&c.css({top:o.height+i.height+c.height+1*w+"px"})):(o.css({top:""}),t.exists(c)&&c.css({top:""}))}else switch(b.stop=n.top+n.height-i.height,!0){case d.top>=b.start&&d.top<=b.stop:o.css({position:"fixed",top:w+"px","box-shadow":"2px 2px 8px rgba(0,0,0,0.5)"}),t.exists(c)&&c.css({position:"fixed",top:w+"px","box-shadow":"2px 2px 8px rgba(0,0,0,0.5)"}),r.css({position:"fixed",top:4*w+o.height+"px","box-shadow":"2px 2px 8px rgba(0,0,0,0.5)"});break;case d.top>b.stop||d.top<b.start:r.css({position:"",top:"","box-shadow":""}),o.css({position:"",top:"","box-shadow":""}),t.exists(c)&&c.css({position:"",top:"","box-shadow":""})}return n},t.fn.timeoutQuiz=function(e){var s=t(this),a=s.find(".btn-check"),n=s.attr("data-mode");if(n=t.isset(n)?n:t.smarty.config.quizzes.defaultMode,s.attr("data-timeout",!0),a.disableBtn(),"streamline"==n){var r=s.find(".btn-insta");r.each(function(e){t(this).disableBtn()})}return s.trigger("quiz:toggle"),s},t.fn.nextQuestion=function(e){var s=t(this),a=s.find(":smarty(question).curr"),n=a.next(":smarty(question)");if(t.exists(n)){var r=a.position().top;a.smartClass("next").css("top",r),n.smartClass("move"),setTimeout(function(){a.smartClass("transition"),n.smartClass("transition")},100),setTimeout(function(){a.smartClass("curr next transition").css("top",""),n.smartClass("curr move transition"),t.isset(e)&&e()},1e3*t.smarty.config.transitionSpeed+200)}return s},t.fn.prevQuestion=function(e){var s=t(this),a=s.find(":smarty(question).curr"),n=a.prev(":smarty(question)");if(t.exists(n)){var r=a.position().top;a.smartClass("prev").css("top",r),n.smartClass("move"),setTimeout(function(){a.smartClass("transition"),n.smartClass("transition")},100),setTimeout(function(){a.smartClass("curr prev transition").css("top",""),n.smartClass("curr move transition"),t.isset(e)&&e()},1e3*t.smarty.config.transitionSpeed+200)}return s},t.fn.checkAnswer=function(e){var s,a=t(this),n=a.attr("data-mode");if(n=t.isset(n)?n:t.smarty.config.quizzes.defaultMode,e.checkAll){var r=a.find(":smarty(question)");r.each(function(e){t(this).trigger("question:check")})}else"sliding"==n?(s=a.find(":smarty(question).curr"),t.exists(s)&&s.trigger("question:check")):"streamline"==n&&(s=t(e.targetQuestion),t.exists(s)&&s.trigger("question:check"));return a},t.fn.checkQuestion=function(e){var s,a=t(this),n=a.find(":smarty(answer)"),r=(a.parent().find(".btn-next"),a.parent().find(".btn-prev"),n.getValues()),i=r.selected.correct/r.correct.count,o=r.selected.correct/r.selected.count,c=i*o;return c=isNaN(c)?0:c,a.attr("data-percent-correct",c),setTimeout(function(){s=a.calculatePoints(),t.isset(e)&&e(s)},10),a},t.fn.togglePrevBtn=function(){var e=t(this),s=e.find(":smarty(question)"),a=s.filter(".curr"),n=s.first(),r=s.last(),i=e.find(".btn-prev"),o=e.attr("data-back"),c=(e.attr("data-timeout"),a[0]===n[0]),d=a[0]===r[0];switch(o=!t.isset(o)||parseBool(o),!0){case c:i.disableBtn(),d||e.trigger("quiz:notend");break;case o&&!c:i.enableBtn(),d||e.trigger("quiz:notend")}return e},t.fn.toggleNextBtn=function(){var e=t(this),s=e.find(":smarty(question)"),a=s.filter(".curr"),n=(s.first(),s.last()),r=e.find(".btn-next"),i=e.attr("data-back"),o=e.attr("data-timeout"),c=a.attr("data-check-disabled"),d=r.is(".disable"),l=a[0]==n[0];switch(i=!t.isset(i)||parseBool(i),o=!!t.isset(o)&&parseBool(o),c=!!t.isset(c)&&parseBool(c),!0){case!(o||i||c||o||l):r.disableBtn();break;case!o&&!i&&c&&!l:r.enableBtn();break;case!o&&i&&!l:r.enableBtn();break;case!o&&l:r.disableBtn(),d||e.trigger("quiz:end");break;case o&&!l:r.enableBtn();break;case o&&l:r.disableBtn(),d||e.trigger("quiz:end")}return e},t.fn.toggleCheckBtn=function(){var e=t(this),s=e.find(":smarty(question)"),a=e.find(".btn-check"),n=s.filter(".curr");switch(!0){case n.is('[data-check-disabled="true"]')||e.is('[data-timeout="true"]'):a.disableBtn();break;default:a.enableBtn()}return e},t.fn.removeDoneBtn=function(){var e=t(this),s=e.find(".btn-done");return t.exists(s)&&s.remove(),e},t.fn.createDoneBtn=function(e){var s=t(this),a=s.find(".btn-done");return t.exists(a)||(button=t("<button>",{class:"btn-done",type:"button",text:"Done"}).on("click",function(){t(this).is(".disable")||s.trigger("quiz:done")}).on("button:created",function(){s.toggleDoneBtn(),t.isset(e)&&e()}).insertAfter(s.find(".btn-next")).trigger("button:created")),s},t.fn.toggleChecking=function(e){var s=t(this),a=s.closest(":smarty("+t.smarty.config.quizzes.selector+")"),n=a.find(":smarty(question)"),r=a.find(".btn-check"),i=a.attr("data-mode"),o=parseFloat(s.attr("data-percent-correct"));if(i=t.isset(i)?i:t.smarty.config.quizzes.defaultMode,"streamline"==i){var c=s.find(".btn-insta");switch(!0){case e.max!==!1&&(e.total-e.incomplete==e.max||1==o):c.disableBtn(),s.attr("data-check-disabled",!0);break;case e.max===!1&&1==o:c.disableBtn(),s.attr("data-check-disabled",!0);break;default:s.attr("data-check-disabled",!1)}var d=t.vote(n,function(e){var s=t(e).attr("data-check-disabled");return!!t.isset(s)&&parseBool(s)});switch(!0){case d:r.disableBtn()}}else if("sliding"==i)switch(!0){case e.max!==!1&&(e.total-e.incomplete==e.max||1==o):r.disableBtn(),s.attr("data-check-disabled",!0);break;case e.max===!1&&1==o:r.disableBtn(),s.attr("data-check-disabled",!0);break;default:s.attr("data-check-disabled",!1)}return s},t.fn.toggleDoneBtn=function(){var e=t(this),s=e.find(".btn-done"),a=e.find(":smarty(tracker)"),n=e.find(":smarty(question)"),r=n.filter(".curr"),i=n.last(),o=e.attr("data-mode"),c=a.attr("data-questions-unanswered"),d=e.attr("data-timeout"),l=r[0]===i[0];if(o=t.isset(o)?o:t.smarty.config.quizzes.defaultMode,c=t.isset(c)?parseInt(c):n.length,d=!!t.isset(d)&&parseBool(d),t.exists(s))switch(!0){case 0===c&&"sliding"==o&&l:s.removeAttr("title").enableBtn();break;case 0===c&&"streamline"==o:s.removeAttr("title").enableBtn();break;case d:s.attr({title:"Allotted time expired. Please submit your responses."}).enableBtn();break;default:s.attr({title:"You have "+c+" unanswered question(s). Please answer all questions before proceeding."}).disableBtn()}return e},t.fn.disableBtn=function(){var e=t(this);return e.smartClass("disable","add"),e[0].hasAttribute("onclick")&&e.attr("data-onclick",e.attr("onclick")).removeAttr("onclick"),e},t.fn.enableBtn=function(){var e=t(this);return e.smartClass("disable","remove"),e[0].hasAttribute("data-onclick")&&e.attr("onclick",e.attr("data-onclick")).removeAttr("data-onclick"),e},t.fn.updateAttempts=function(e,s){var a=t(this),n=a.find(":smarty(answer)"),r=a.find(":smarty(attempts)"),i=r.find(".stats"),o=n.getValues(),c={total:a.attr("data-attempts-total"),pass:a.attr("data-attempts-pass"),partial:a.attr("data-attempts-partial"),incomplete:a.attr("data-attempts-incomplete"),fail:a.attr("data-attempts-fail"),max:a.attr("data-attempts")},d=parseFloat(a.attr("data-percent-correct")),l="&#8734;";c.total=t.isset(c.total)?parseInt(c.total):0,c.pass=t.isset(c.pass)?parseInt(c.pass):0,c.partial=t.isset(c.partial)?parseInt(c.partial):0,c.incomplete=t.isset(c.incomplete)?parseInt(c.incomplete):0,c.fail=t.isset(c.fail)?parseInt(c.fail):0,c.max=!(!t.isset(c.max)||!t.isNumeric(c.max)||0===parseInt(c.max))&&parseInt(c.max),e.init?a.attr({"data-attempts-total":c.total,"data-attempts-pass":c.pass,"data-attempts-partial":c.partial,"data-attempts-incomplete":c.incomplete,"data-attempts-fail":c.fail}):o.selected.count>=1&&1==d?(c.total++,c.pass++,a.attr({"data-attempts-total":c.total,"data-attempts-pass":c.pass})):o.selected.count>=1&&d>=.1?(c.total++,c.partial++,a.attr({"data-attempts-total":c.total,"data-attempts-partial":c.partial})):o.selected.count>=1&&0===d?(c.total++,c.fail++,a.attr({"data-attempts-total":c.total,"data-attempts-fail":c.fail})):0===o.selected.count&&(c.total++,c.incomplete++,a.attr({"data-attempts-total":c.total,"data-attempts-incomplete":c.incomplete})),c.valid=c.total-c.incomplete,r.find(".total").html(c.valid),r.find(".max").html(c.max!==!1?c.max:l),t.exists(i)&&a.trigger(t.Event("question:attempt:stats",{update:!0})),t.isset(s)&&s(c)},t.fn.updateStatus=function(e){var s=t(this),a=(s.closest(":smarty("+t.smarty.config.quizzes.selector+")"),{total:parseInt(s.attr("data-attempts-total")),incomplete:parseInt(s.attr("data-attempts-incomplete"))});return a.valid=a.total-a.incomplete,t.isset(a.valid)&&a.valid>0?s.attr("data-answered",!0):s.attr("data-answered",!1),t.isset(e)&&e(),s},t.fn.answerType=function(){return t(this).parent().attr("data-question-type")},t.fn.getValues=function(){var e=t(this),s=e.filter('[data-answer="true"]'),a={correct:{count:0,correct:0,values:[]},selected:{count:0,correct:0,values:[]}},n=e.answerType();if(n==t.smarty.config.quizzes.questionTypes.multiAnswer)!function(){a.correct.count=s.length,s.each(function(e){var s=t(this),n=s.find("input"),r=n.val().toUpperCase();s.checkedState(),n.is(":checked")&&a.correct.correct++,a.correct.values.push(r)})}(),function(){e.each(function(e){var n=t(this),r=n.find("input"),i=r.val().toUpperCase();n.checkedState(),r.is(":checked")&&(a.selected.count++,s.indexEl(n)>-1&&a.selected.correct++,a.selected.values.push(i))})}();else if(n==t.smarty.config.quizzes.questionTypes.multiChoice||n==t.smarty.config.quizzes.questionTypes.trueFalse){var r=e.find("input"),i=r.filter(":checked"),o=s.find("input"),c={checked:i.val(),correct:o.val()};!function(){a.correct.count++,t.exists(i)&&c.checked==c.correct&&a.correct.correct++,n==t.smarty.config.quizzes.questionTypes.trueFalse?a.correct.values.push(c.correct.toTitleCase()):a.correct.values.push(c.correct.toUpperCase())}(),function(){t.exists(i)&&(a.selected.count++,c.checked==c.correct&&a.selected.correct++,n==t.smarty.config.quizzes.questionTypes.trueFalse?a.selected.values.push(c.checked.toTitleCase()):a.selected.values.push(c.checked.toUpperCase()))}(),e.checkedState()}else if(n==t.smarty.config.quizzes.questionTypes.shortAnswer){var d=e.find("input"),l=e.attr("data-case-sensitive"),u={correct:e.attr("data-answer"),user:d.val(),alternates:e.attr("data-answer-alts")};l=!!t.isset(l)&&parseBool(l),t.isset(u.alternates)?(u.alternates=u.alternates.split(","),t.each(u.alternates,function(e,s){u.alternates[e]=t.trim(s)})):u.alternates=!1,function(){if(a.correct.count++,l)(u.user==u.correct||u.alternates!==!1&&t.inArray(u.user,u.alternates)>-1)&&a.correct.correct++;else{var e={correct:u.correct.toLowerCase(),user:u.user.toLowerCase(),alternates:[]};u.alternates===!1?e.alternates=!1:t.each(u.alternates,function(t,s){e.alternates[t]=s.toLowerCase()}),(e.user==e.correct||e.alternates!==!1&&t.inArray(e.user,e.alternates)>-1)&&a.correct.correct++}a.correct.values.push(u.correct)}(),function(){if(t.isset(u.user)&&a.selected.count++,l)(u.user==u.correct||u.alternates!==!1&&t.inArray(u.user,u.alternates)>-1)&&a.selected.correct++;else{var e={correct:u.correct.toLowerCase(),user:u.user.toLowerCase(),alternates:[]};u.alternates===!1?e.alternates=!1:t.each(u.alternates,function(t,s){e.alternates[t]=s.toLowerCase()}),(e.user==e.correct||e.alternates!==!1&&t.inArray(e.user,e.alternates)>-1)&&a.selected.correct++}a.selected.values.push(u.user)}(),e.answeredState()}return a},t.fn.checkedState=function(){var e=t(this);return e.each(function(e){var s=t(this),a=s.find("input");a.is(":checked")&&!s.is('[data-selected="true"]')?s.attr("data-selected",!0):a.is(":checked")||s.attr("data-selected",!1)}),e},t.fn.answeredState=function(){var e=t(this),s=e.find("input"),a=e.attr("data-case-sensitive"),n={correct:e.attr("data-answer"),user:s.val(),alternates:e.attr("data-answer-alts")};return a=!!t.isset(a)&&parseBool(a),t.isset(n.alternates)?(n.alternates=n.alternates.split(","),t.each(n.alternates,function(e,s){n.alternates[e]=t.trim(s)})):n.alternates=!1,a||(n.correct=n.correct.toLowerCase(),n.user=n.user.toLowerCase(),n.alternates===!1?n.alternates=!1:t.each(n.alternates,function(t,e){n.alternates[t]=e.toLowerCase()})),t.isset(n.user)&&n.user==n.correct||n.alternates!==!1&&t.inArray(n.user,n.alternates)>-1?(e.attr("data-answered",!0),e.attr("data-answered-state","pass")):t.isset(n.user)&&n.user!==n.correct&&(n.alternates===!1||n.alternates!==!1&&t.inArray(n.user,n.alternates)==-1)?(e.attr("data-answered",!0),e.attr("data-answered-state","fail")):t.isset(n.user)?(e.attr("data-answered",!1),e.attr("data-answered-state","fail")):(e.attr("data-answered",!1),
e.attr("data-answered-state","incomplete")),e},t.fn.setupFeedback=function(){var e=t(this),s=e.find(":smarty(feedback)");return t.exists(s)||(s=t("<"+t.smarty.config.selectorPrefix+"feedback>").appendTo(e)),s},t.fn.sendFeedback=function(e){var s=t(this),a=s.setupFeedback(),n=a.find(".pts-earned"),r=a.find(".pts-possible"),i=a.find(".pts-attempts"),o=a.find(".pts-response"),c=a.find(".check-response"),d=a.find(".message"),l=s.parseAttempts(),u=e.points;return t.exists(n)?n.text(u.earned.toDecimals(2)):n=t("<span>",{class:"pts-earned",text:u.earned.toDecimals(2)}),t.exists(r)?r.text(u.possible.toDecimals(2)):r=t("<span>",{class:"pts-possible",text:u.possible.toDecimals(2)}),t.exists(i)?i.text(l.valid):i=t("<span>",{class:"pts-attempts",text:l.valid}),t.exists(o)?o.html("You earned "+n.outerHTML()+" / "+r.outerHTML()+" points on "+i.outerHTML()+" attempt(s)."):o=t("<div>",{class:"pts-response",html:"You earned "+n.outerHTML()+" / "+r.outerHTML()+" points on "+i.outerHTML()+" attempt(s)."}),t.exists(c)?c.html(s.feedbackResponse()):(c=t("<span>",{class:"check-response",html:s.feedbackResponse()}),t.exists(d)?d.before(c,o):a.append(c,o)),t.exists(d)&&s.feedbackMessage(),a},t.fn.feedbackMessage=function(){var e=t(this),s=(e.find(":smarty(answer)"),e.children(":smarty(feedback)")),a=s.find(".message"),n=parseFloat(e.attr("data-percent-correct")),r={total:parseInt(e.attr("data-attempts-total")),incomplete:parseInt(e.attr("data-attempts-incomplete")),max:e.attr("data-attempts")};return r.max=t.isNumeric(r.max)?parseInt(r.max):-1,r.valid=r.total-r.incomplete,1!=n&&r.valid!=r.max||a.smartClass("hide show"),a},t.fn.feedbackResponse=function(){var e,s,a,n=t(this),r=n.find(":smarty(answer)"),i=r.getValues(),o=parseFloat(n.attr("data-percent-correct")),c={total:parseInt(n.attr("data-attempts-total")),incomplete:parseInt(n.attr("data-attempts-incomplete")),max:n.attr("data-attempts")},d="",l="",u="",p={pass:"pass",partial:"partial",incomplete:"incomplete",fail:"fail"},f=n.attr("data-question-type");if(c.max=t.isNumeric(c.max)?parseInt(c.max):-1,c.valid=c.total-c.incomplete,f==t.smarty.config.quizzes.questionTypes.multiChoice||f==t.smarty.config.quizzes.questionTypes.trueFalse||f==t.smarty.config.quizzes.questionTypes.shortAnswer)switch(!0){case i.selected.count>=1&&1==o:a=t("<strong>",{class:p.pass,text:"Correct."}),e=t("<strong>",{class:p.pass,text:i.correct.values[0]}),s=t("<strong>",{class:p.pass,text:i.selected.values[0]}),u+=s.outerHTML(),l+=e.outerHTML(),d+="You answered "+u+". ",d+="The correct answer is "+l+". ";break;case i.selected.count>=1&&0===o:a=t("<strong>",{class:p.fail,text:"Wrong."}),e=t("<strong>",{class:p.pass,text:i.correct.values[0]}),s=t("<strong>",{class:p.fail,text:i.selected.values[0]}),u+=s.outerHTML(),l+=e.outerHTML(),d+="You answered "+u+". ",c.max>-1&&c.valid==c.max&&(d+="The correct answer is "+l+". ");break;case 0===i.selected.count:a=t("<strong>",{class:p.incomplete,text:"Try again."}),d="Please select an answer from above.",f==t.smarty.config.quizzes.questionTypes.shortAnswer&&(d="Please provide an answer in the field above.")}else if(f==t.smarty.config.quizzes.questionTypes.multiAnswer)switch(!0){case i.selected.count>=1&&1==o:a=t("<strong>",{class:p.pass,text:"Correct."}),t.each(i.correct.values,function(s,a){switch(e=t("<strong>",{class:p.pass,text:a}),!0){case s!=i.correct.count-1&&i.correct.count>2:l+=e.outerHTML()+", ";break;case s!=i.correct.count-1&&2==i.correct.count:l+=e.outerHTML()+" ";break;default:l+="and "+e.outerHTML()}}),t.each(i.selected.values,function(e,a){switch(s=t("<strong>",{class:p.pass,text:a}),!0){case e!=i.selected.count-1&&i.selected.count>2:u+=s.outerHTML()+", ";break;case e!=i.selected.count-1&&2==i.selected.count:u+=s.outerHTML()+" ";break;case 1==i.selected.count:u+=s.outerHTML();break;default:u+="and "+s.outerHTML()}}),d+="You answered "+u+". ",d+="The correct answers are "+l+". ";break;case i.selected.count>=1&&o>0:a=t("<strong>",{class:p.partial,text:"Almost."}),t.each(i.selected.values,function(e,s){p.variable=i.correct.values.indexOf(s)!=-1?p.partial:p.partial;var a=t("<strong>",{class:p.variable,text:s});switch(!0){case e!=i.selected.count-1&&i.selected.count>2:u+=a.outerHTML()+", ";break;case e!=i.selected.count-1&&2==i.selected.count:u+=a.outerHTML()+" ";break;case 1==i.selected.count:u+=a.outerHTML();break;default:u+="and "+a.outerHTML()}}),t.each(i.correct.values,function(e,s){p.variable=i.selected.values.indexOf(s)!=-1?p.pass:p.fail;var a=t("<strong>",{class:p.variable,text:s});switch(!0){case e!=i.correct.count-1&&i.correct.count>2:l+=a.outerHTML()+", ";break;case e!=i.correct.count-1&&2==i.correct.count:l+=a.outerHTML()+" ";break;default:l+="and "+a.outerHTML()}}),d+="You answered "+u+". ",c.max>-1&&c.valid==c.max&&(d+="The correct answers are "+l+". ");break;case i.selected.count>=1&&0===o:a=t("<strong>",{class:p.fail,text:"Wrong."}),t.each(i.correct.values,function(s,a){switch(p.variable=i.selected.values.indexOf(a)!=-1?p.pass:p.fail,e=t("<strong>",{class:p.variable,text:a}),!0){case s!=i.correct.count-1&&i.correct.count>2:l+=e.outerHTML()+", ";break;case s!=i.correct.count-1&&2==i.correct.count:l+=e.outerHTML()+" ";break;default:l+="and "+e.outerHTML()}}),t.each(i.selected.values,function(e,a){switch(p.variable=i.correct.values.indexOf(a)!=-1?p.pass:p.fail,s=t("<strong>",{class:p.variable,text:a}),!0){case e!=i.selected.count-1&&i.selected.count>2:u+=s.outerHTML()+", ";break;case e!=i.selected.count-1&&2==i.selected.count:u+=s.outerHTML()+" ";break;case 1==i.selected.count:u+=s.outerHTML();break;default:u+="and "+s.outerHTML()}}),d+="You answered "+u+". ",c.max>-1&&c.valid==c.max&&(d+="The correct answers are "+l+". ");break;case 0===i.selected.count:a=t("<strong>",{class:p.incomplete,text:"Try again."}),d="Please select an answer from above."}return a.outerHTML()+" "+d},t.fn.parseAttempts=function(){var e=t(this),s={total:parseInt(e.attr("data-attempts-total")),incomplete:parseInt(e.attr("data-attempts-incomplete")),max:e.attr("data-attempts")};return s.max=!!t.isNumeric(s.max)&&parseInt(s.max),s.valid=s.total-s.incomplete,s},t.fn.giveHint=function(e){var s=t(this),a=s.find(":smarty(hint)"),n=s.parseAttempts(),r=e.points;return!!t.exists(a)&&(e.showing!==!0&&(!a.find(".hint").is(".show")&&(n.required=t.isset(a.attr("data-attempts"))?parseInt(a.attr("data-attempts")):1,r.percent=r.earned/r.possible,r.percent<1&&n.valid>=n.required&&a.find(".hint").smartClass("hide show"),s)))},t.fn.calculatePoints=function(){var e=t(this),s=e.closest(":smarty("+t.smarty.config.quizzes.selector+")"),a=parseFloat(e.attr("data-percent-correct")),n={possible:parseFloat(e.attr("data-points")),earned:0};return n.earned+=n.possible*a,e.attr("data-points-earned",n.earned),s.trigger(t.Event("quiz:score",{update:!0})),n},t.fn.runningScore=function(e){var s=t(this),a=s.find(":smarty(question)"),n=s.find(":smarty(score)"),r={total:[],max:[]};return a.each(function(e){var s=t(this).attr("data-points"),a=t(this).attr("data-points-earned");s=t.isset(s)?parseFloat(s):0,a=t.isset(a)?parseFloat(a):0,r.total.push(a),r.max.push(s)}),r.total=r.total.sum(),r.max=r.max.sum(),n.attr("data-total",r.total),n.find(".total").html(r.total.toDecimals(2)),n.find(".max").html(r.max.toDecimals(2)),s},t.fn.questionTrack=function(e){var s,a,n=t(this),r=n.find(":smarty(question)"),i=n.find(":smarty(tracker)"),o=n.attr("data-mode");if(o=t.isset(o)?o:t.smarty.config.quizzes.defaultMode,"sliding"==o)s=r.filter(".curr");else if("streamline"==o){var c,d=[],l=[],u=150;r.each(function(e){d.push(t(this)),l.push(t(this).offset().top-u)}),l.forEach(function(e,s){var a=d[s];a.top=e,a.bottom=a.top+a.height();var n=t(t.smarty.config.window);n.top=n.scrollTop(),n.bottom=n.top+n.innerHeight(),(0===s||s==l.length-1&&n.top>a.bottom||n.top>c.bottom&&n.top<=a.bottom)&&(c=a,c.top=a.top,c.bottom=a.bottom)}),s=c}return a={current:s.attr("data-question-num"),total:r.length,unanswered:r.filter('[data-answered="false"]').length,answered:r.filter('[data-answered="true"]').length},i.attr({"data-questions-current":a.current,"data-questions-total":a.total,"data-questions-answered":a.answered,"data-questions-unanswered":a.unanswered}),i.find(".current").html(a.current),i.find(".total").html(a.total),t.isset(e)&&e(),n},t.fn.statsPush=function(){var e=t(this),s=e.closest(":smarty(tracker)"),a=s.closest(":smarty("+t.smarty.config.quizzes.selector+")"),n=a.find(":smarty(timer)"),r=a.find(":smarty(score)"),i=a.attr("data-mode");return i=t.isset(i)?i:t.smarty.config.quizzes.defaultMode,e.height=e.outerHeight(),r.height=t.exists(r)?r.outerHeight():0,r.top=t.exists(r)?parseInt(r.css("top")):0,n.height=t.exists(n)?n.outerHeight():0,n.top=t.exists(n)?parseInt(n.css("top")):0,"streamline"==i&&t.exists(r)&&(r.smartClass("transition"),setTimeout(function(){e.height=e.outerHeight(),r.css({top:e.height+r.top+"px"}),setTimeout(function(){r.smartClass("transition")},1e3*t.smarty.config.transitionSpeed)},1e3*t.smarty.config.transitionSpeed+200)),t.exists(n)&&(n.smartClass("transition"),setTimeout(function(){e.height=e.outerHeight(),n.css({top:e.height+n.top+"px"}),setTimeout(function(){n.smartClass("transition")},1e3*t.smarty.config.transitionSpeed)},1e3*t.smarty.config.transitionSpeed+200)),e},t.fn.statsPull=function(){var e=t(this),s=e.closest(":smarty(tracker)"),a=s.closest(":smarty("+t.smarty.config.quizzes.selector+")"),n=a.find(":smarty(timer)"),r=a.find(":smarty(score)");return t.exists(r)&&(r.smartClass("transition").css("top",""),setTimeout(function(){r.smartClass("transition")},1e3*t.smarty.config.transitionSpeed)),t.exists(n)&&(n.smartClass("transition").css("top",""),setTimeout(function(){n.smartClass("transition")},1e3*t.smarty.config.transitionSpeed)),e},t.fn.trackerStats=function(e){var s=t(this),a=s.find(":smarty(tracker)"),n=(s.find(":smarty(score)"),s.find(":smarty(timer)"),a.find(".stats")),r=t(t.smarty.config.window),i=s.attr("data-mode"),o={current:parseInt(a.attr("data-questions-current")),total:parseInt(a.attr("data-questions-total")),answered:parseInt(a.attr("data-questions-answered")),unanswered:parseInt(a.attr("data-questions-unanswered"))};return i=t.isset(i)?i:t.smarty.config.quizzes.defaultMode,r.width=r.innerWidth(),!t.exists(n)&&e.create?(n.current=t("<div>",{class:"stat-current",html:"Current: <span>"+o.current+"</span>"}),n.total=t("<div>",{class:"stat-total",html:"Total: <span>"+o.total+"</span>"}),n.answered=t("<div>",{class:"stat-answered",html:"Answered: <span>"+o.answered+"</span>"}),n.unanswered=t("<div>",{class:"stat-unanswered",html:"Unanswered: <span>"+o.unanswered+"</span>"}),n=t("<div>",{class:"stats"}).append(n.current,n.total,n.answered,n.unanswered).smartClass("hide").on("tracker:open",function(){n=t(this),n.smartClass("transition"),setTimeout(function(){n.smartClass("hide show"),n.trigger("tracker:push"),setTimeout(function(){n.smartClass("transition")},1e3*t.smarty.config.transitionSpeed+200)},10)}).on("tracker:close",function(){n=t(this),n.smartClass("transition show hide"),setTimeout(function(){n.trigger("tracker:pull"),n.remove()},1e3*t.smarty.config.transitionSpeed)}).on("tracker:push",function(){n=t(this),r.width>t.smarty.config.quizzes.respondAt&&n.statsPush()}).on("tracker:pull",function(){n=t(this),r.width>t.smarty.config.quizzes.respondAt&&n.statsPull()}).on("tracker:update",function(){n=t(this),o={current:parseInt(a.attr("data-questions-current")),total:parseInt(a.attr("data-questions-total")),answered:parseInt(a.attr("data-questions-answered")),unanswered:parseInt(a.attr("data-questions-unanswered"))},n.current=n.find(".stat-current > span").html(o.current),n.total=n.find(".stat-total > span").html(o.total),n.answered=n.find(".stat-answered > span").html(o.answered),n.unanswered=n.find(".stat-unanswered > span").html(o.unanswered)}).appendTo(a).trigger("tracker:open")):t.exists(n)&&e.update?n.trigger("tracker:update"):t.exists(n)&&e.remove&&n.trigger("tracker:close"),s},t.fn.attemptStats=function(e){var s=t(this),a=(s.closest(":smarty("+t.smarty.config.quizzes.selector+")"),s.find(":smarty(attempts)")),n=a.find(".stats"),r={allowed:s.attr("data-attempts"),total:parseInt(s.attr("data-attempts-total")),incompletes:parseInt(s.attr("data-attempts-incomplete")),corrects:parseInt(s.attr("data-attempts-pass")),almosts:parseInt(s.attr("data-attempts-partial")),wrongs:parseInt(s.attr("data-attempts-fail"))},i="&#8734;";return r.allowed=t.isNumeric(r.allowed)?parseInt(r.allowed):i,r.valids=r.total-r.incompletes,!t.exists(n)&&e.create?(n.allowed=t("<div>",{class:"stat-allowed",html:"Allowed: <span>"+r.allowed+"</span>"}),n.total=t("<div>",{class:"stat-total",html:"Total: <span>"+r.total+"</span>"}),n.valids=t("<div>",{class:"stat-valids",html:"Valids: <span>"+r.valids+"</span>"}),n.incompletes=t("<div>",{class:"stat-incompletes",html:"Incompletes: <span>"+r.incompletes+"</span>"}),n.corrects=t("<div>",{class:"stat-corrects",html:"Corrects: <span>"+r.corrects+"</span>"}),n.almosts=t("<div>",{class:"stat-almosts",html:"Almosts: <span>"+r.almosts+"</span>"}),n.wrongs=t("<div>",{class:"stat-wrongs",html:"Wrongs: <span>"+r.wrongs+"</span>"}),n=t("<div>",{class:"stats"}).append(n.allowed,n.total,n.valids,n.incompletes,n.corrects,n.almosts,n.wrongs).smartClass("hide").on("attempts:open",function(){n=t(this),n.smartClass("transition"),setTimeout(function(){n.smartClass("hide show"),setTimeout(function(){n.smartClass("transition")},1e3*t.smarty.config.transitionSpeed+200)},10)}).on("attempts:update",function(){n=t(this),r={allowed:s.attr("data-attempts"),total:parseInt(s.attr("data-attempts-total")),incompletes:parseInt(s.attr("data-attempts-incomplete")),corrects:parseInt(s.attr("data-attempts-pass")),almosts:parseInt(s.attr("data-attempts-partial")),wrongs:parseInt(s.attr("data-attempts-fail"))},r.allowed=t.isNumeric(r.allowed)?parseInt(r.allowed):i,r.valids=r.total-r.incompletes,n.allowed=n.find(".stat-allowed > span").html(r.allowed),n.total=n.find(".stat-total > span").html(r.total),n.valids=n.find(".stat-valids > span").html(r.valids),n.incompletes=n.find(".stat-incompletes > span").html(r.incompletes),n.corrects=n.find(".stat-corrects > span").html(r.corrects),n.almosts=n.find(".stat-almosts > span").html(r.almosts),n.wrongs=n.find(".stat-wrongs > span").html(r.wrongs)}).on("attempts:close",function(){n=t(this),n.smartClass("transition show hide"),setTimeout(function(){n.remove()},1e3*t.smarty.config.transitionSpeed)}).appendTo(a).trigger("attempts:open")):t.exists(n)&&e.update?n.trigger("attempts:update"):t.exists(n)&&e.remove&&n.trigger("attempts:close"),s},t.fn.createReport=function(){var e=t(this),s=e.find(":smarty(question)"),a=e.find(":smarty(report)");if(!t.exists(a)){var n=e.find(":smarty(score)"),r=e.find(":smarty(timer)"),i={total:parseFloat(n.attr("data-total")),max:parseFloat(n.attr("data-max"))},o={total:[],pass:[],partial:[],fail:[],incomplete:[]},c={},d=t.smarty.config.quizzes.selector;s.each(function(e){var s=t(this);o.total.push(parseInt(s.attr("data-attempts-total"))),o.incomplete.push(parseInt(s.attr("data-attempts-incomplete"))),o.pass.push(parseInt(s.attr("data-attempts-pass"))),o.partial.push(parseInt(s.attr("data-attempts-partial"))),o.fail.push(parseInt(s.attr("data-attempts-fail")))}),o.total=o.total.sum(),o.pass=o.pass.sum(),o.partial=o.partial.sum(),o.fail=o.fail.sum(),o.incomplete=o.incomplete.sum(),o.average=(o.total-o.incomplete)/s.length,i.percent=Math.round(i.total/i.max*100),i.percent=isNaN(i.percent)?0:i.percent;var l,u,p,f,h,m,g,v,w="",b=t();t.exists(r)&&(c.start=r.attr("data-start"),c.end=r.attr("data-end"),c.time=r.attr("data-time"),c.out=e.attr("data-timeout"),c.start=parseInt(c.start),c.end=!!t.isNumeric(c.end)&&parseInt(c.end),c.time=parseInt(c.time),c.type=c.end===!1?"timer":"countdown",c.out=!!t.isset(c.out)&&parseBool(c.out),c.expr="countdown"==c.type&&c.start.toTime(),c.total="countdown"==c.type?(c.start-c.time).toTime():c.time.toTime(),c.rem=c.time.toTime(),w=t("<div>",{class:"timer",html:c.out?"Timed out after <span>"+c.expr.h.pad(2)+":"+c.expr.m.pad(2)+":"+c.expr.s.pad(2)+"</span>":"Completed in <span>"+c.total.h.pad(2)+":"+c.total.m.pad(2)+":"+c.total.s.pad(2)+("countdown"==c.type?"</span> with <span>"+c.rem.h.pad(2)+":"+c.rem.m.pad(2)+":"+c.rem.s.pad(2)+"</span> remaining":"")})),l=t("<div>",{class:"h1 header",html:d.toTitleCase(!0)+" Complete"}),u=t("<div>",{class:"score",html:i.percent+"%"}),u.title=t("<div>",{class:"h2 score-title",html:"You Scored:"}),p=t("<div>",{class:"attempts",html:"averaging <span>"+o.average.toDecimals(1)+"</span> attempt(s) per question"}),p.title=t("<div>",{class:"attempts-title",html:""}),s.each(function(e){var s=t(this),a=s.find(":smarty(answer)"),n=a.filter('[data-answer]:not([data-answer="false"])'),r=a.filter('[data-selected="true"]'),i=s.find(":smarty(feedback)"),o=s.find(":smarty(hint) .hint"),c=i.find(".check-response"),d=i.find(".pts-response"),l=i.find(".message").smartClass("show"),u=s.find("iframe"),p=!!t.exists(c)&&c.children("strong").first().attr("class");s.number=s.find(".question-num"),s.text=s.find(".question-txt");var f,h=s.number.clone(!0),m=s.text.clone(!0),g=t("<div>",{class:"q"}).append(h,m),v=t();m.find(":smarty(blank)").each(function(){t(this).replaceWith('<span class="blank"><span class="underline"></span></span>')}),p!==!1&&h.smartClass(p+"-bg","add"),a.each(function(e){var a,i,o,c,d,l,u=t(this),p=s.attr("data-question-type");if(p==t.smarty.config.quizzes.questionTypes.multiChoice||p==t.smarty.config.quizzes.questionTypes.multiAnswer){switch(u.number=u.find(".answer-num"),u.text=u.find(".answer-txt"),a=t("<span>",{class:"answer-num",html:u.number.html()}),i=t("<span>",{class:"answer-txt",html:u.text.html()}),o=t("<div>",{class:"a"}).append(a,i),c=u.is('[data-selected="true"]'),d=u.is('[data-answer="true"]'),l=n[0]===r[0],!0){case c&&!d:a.smartClass("fail-bg");break;case c&&d&&l:a.smartClass("pass-bg");break;case c&&d&&!l:a.smartClass("partial-bg");break;case d:a.smartClass("pass-bg")}v=v.add(o)}else if(p==t.smarty.config.quizzes.questionTypes.shortAnswer){u.input=u.find("input");var f={correct:u.attr("data-answer"),user:u.input.val(),alternates:u.attr("data-answer-alts")},h=u.attr("data-case-sensitive"),m=u.attr("data-answered-state");t.isset(f.alternates)?(f.alternates=f.alternates.split(","),t.each(f.alternates,function(e,s){f.alternates[e]=t.trim(s)})):f.alternates=!1,h=!!t.isset(h)&&parseBool(h),f.alternates!==!1&&f.alternates.unshift(f.correct);var g=t("<div>",{class:"answer-user",html:f.user}),w=t("<div>",{class:"answer-case",html:"<div>Case Sensitive:</div><div>"+(h?"Yes":"No")+"</div>"}),b=(t("<div>",{class:"answer-corr",html:"<div>Correct Answer:</div> <div>"+f.correct+"</div>"}),t("<div>",{class:"answer-alts",html:"<div>Accepted Answer(s):</div><div>"+(f.alternates===!1?f.correct:f.alternates.join(",").replace(/\,/g,", "))+"</div>"}));o=t("<div>",{class:"a"}).append(g,w,b);var y=u.is('[data-answered="true"]');switch(!0){case y&&"pass"==m:g.smartClass("pass-bg");break;case y&&"fail"==m:g.smartClass("fail-bg");break;case!y&&"incomplete"==m:g.smartClass("incomplete-bg").html("&nbsp;")}v=v.add(o)}else if(p==t.smarty.config.quizzes.questionTypes.trueFalse){u.text=u.find("label");var x=t("<span>",{class:"answer-btn",html:"<span>"+u.text.html()+"</span>"});switch(o=t("<div>",{class:"a"}).append(x),c=u.is('[data-selected="true"]'),d=u.is('[data-answer="true"]'),l=n[0]===r[0],!0){case c&&!d:x.smartClass("fail-bg");break;case c&&d&&l:x.smartClass("pass-bg");break;case c&&d&&!l:x.smartClass("partial-bg");break;case d:x.smartClass("pass-bg")}v=v.add(o)}}),f=t("<div>",{class:"question",tabindex:0}).append(g,v),t.exists(c)&&f.append(c),t.exists(l)&&f.append(l),t.exists(d)&&f.append(d),t.exists(o)&&f.append(o.smartClass("show hide","remove")),t.exists(u)&&u.css({width:"",height:""}).each(function(){var e=parseFloat(t(this).attr("data-aspect-ratio")),s=t("<div>",{class:"frame-fluid"}).css({"padding-bottom":100*e+"%"});t(this).wrap(s)}),b=b.add(f)}),f=t("<button>",{type:"button",class:"btn-view",text:"View Feedback"}).on("click",function(){e.trigger("quiz:feedback")}),h=t("<div>",{class:"report"}).append(l.clone(!0),u.title.clone(!0),u.clone(!0),p.title.clone(!0),p.clone(!0),w.clone(!0),f),m=t("<div>",{class:"results"}).append(l,u.title,u,p.title,p,w),g=t("<div>",{class:"feedback"}).smartClass("hide").append(m,b),v=t("<div>",{id:e.attr("id")+"-report"}).append(h,g),a=t("<"+t.smarty.config.selectorPrefix+"report>").append(v).appendTo(e)}return t.smarty.accessibility.setup(),e},t.fn.smartRemove=function(e){for(var s=t(this),a=t.isset(e)?t(e):s.parent(),n=1,r=100;0!==a.prop("tagName").toLowerCase().indexOf(t.smarty.config.selectorPrefix)&&n<=r;)a=a.parent(),n++;t.exists(a)&&a.remove()},t.fn.smartTimer=function(){var e,s=t(this),a=s.find(":smarty(timer)"),n=a.find(".time"),r=a.find(".text"),i={start:parseInt(a.attr("data-start")),end:a.attr("data-end"),time:parseInt(a.attr("data-time"))},o=i.start.toTime();if(i.end=!!t.isNumeric(i.end)&&parseInt(i.end),i.type=i.end===!1?"timer":"countdown",s.attr("data-timeout",!1),"timer"==i.type){n.html('<span class="fa fa-clock-o"></span> '+o.h.pad(2)+":"+o.m.pad(2)+":"+o.s.pad(2));var c=i.time;r.html("Time Elapsed:"),e=setInterval(function(){c++,o=c.toTime(),n.html('<span class="fa fa-clock-o"></span> '+o.h.pad(2)+":"+o.m.pad(2)+":"+o.s.pad(2)),a.attr("data-time",c)},1e3)}else if("countdown"==i.type){n.html('<span class="fa fa-hourglass-start"></span> '+o.h.pad(2)+":"+o.m.pad(2)+":"+o.s.pad(2));var d=i.time;r.html("Time Remaining:"),d<=10&&n.smartClass("warn","add"),e=setInterval(function(){d--,o=d.toTime(),n.html((d<=i.end?'<span class="fa fa-hourglass-end"></span> ':'<span class="fa fa-hourglass-half"></span> ')+o.h.pad(2)+":"+o.m.pad(2)+":"+o.s.pad(2)),d<=10&&n.smartClass("warn","add"),a.attr("data-time",d),d<=i.end&&(clearInterval(e),s.trigger("quiz:timeout"))},1e3)}s.on("quiz:done",function(){clearInterval(e)})},t.fn.viewReport=function(){var e=t(this),s=e.find(":smarty(report)"),a=s.find("#"+e.attr("id")+"-report"),n=a.find(".feedback"),r=t(e[0].ownerDocument),i=r.find('link[rel="stylesheet"]'),o=r.find("style"),c=r.find("script[src]");t.windowOpen({html:n.clone(!0).smartClass("hide show"),title:"Feedback",stylesheets:function(){var t=[];return i.each(function(){t.push(this.href)}),t}(),styleblocks:function(){var t=[];return o.each(function(){t.push(this.outerHTML)}),t}(),scriptsheets:function(){var t=[];return c.each(function(){t.push(this.src)}),t}()});return e},t.fn.outerHTML=function(){return t(this)[0].outerHTML},t.fn.indexEl=function(e){for(var s=t(this),a=-1,n=0;n<s.length;n++)t(s[n])[0]==e[0]&&(a=n);return a},t.fn.clueData=function(){var e={clue:t.trim(t(this).html()),answer:t.trim(t(this).attr("data-answer").replace(" ","")).toUpperCase(),start:{x:parseInt(t(this).attr("data-position").split(",")[0]),y:parseInt(t(this).attr("data-position").split(",")[1])},direction:t(this).attr("data-direction")};return e.end={x:"down"==e.direction?e.start.x:e.answer.length+e.start.x-1,y:"across"==e.direction?e.start.y:e.answer.length+e.start.y-1},e},t.fn.inputData=function(){var e=t(this),s={direction:e[0].hasAttribute("data-across")?e[0].hasAttribute("data-down")?"intersection":"across":"down",ends:{},name:{},index:!1};return"across"==s.direction?(s.name.across=e.attr("data-across"),s.name.down=!1,s.ends.first=parseBool(e.attr("data-across-first")),s.ends.last=parseBool(e.attr("data-across-last"))):"down"==s.direction?(s.name.across=!1,s.name.down=e.attr("data-down"),s.ends.first=parseBool(e.attr("data-down-first")),s.ends.last=parseBool(e.attr("data-down-last"))):"intersection"==s.direction&&(s.name.across=e.attr("data-across"),s.name.down=e.attr("data-down"),s.ends.first=parseBool(e.attr("data-across-first"))&&parseBool(e.attr("data-down-first"))?"both":parseBool(e.attr("data-across-first"))?"across":!!parseBool(e.attr("data-down-first"))&&"down",s.ends.last=parseBool(e.attr("data-across-last"))&&parseBool(e.attr("data-down-last"))?"both":parseBool(e.attr("data-across-last"))?"across":!!parseBool(e.attr("data-down-last"))&&"down"),s},t.fn.checkoffClue=function(e){var s=t(this),a=s.find('input[type="checkbox"]');e.autoCheckoff?e.wordCompleted?a.is(":checked")||a.prop("checked",!0):a.is(":checked")&&a.prop("checked",!1):a.is(":checked")?a.prop("checked",!1):a.prop("checked",!0)},t.fn.checkoffWord=function(){var e=t(this),s=e.parent(),a=s.closest(":smarty("+t.smarty.config.crosswords.selector+")"),n=a.find(":smarty(clue)"),r=[],i=a.attr("id"),o=e.inputData(),c=[];return"across"==o.direction?(r.push(t("input:attr(data-across,"+o.name.across+")")),c.push(e.attr("data-across-word"))):"down"==o.direction?(r.push(t("input:attr(data-down,"+o.name.down+")")),c.push(e.attr("data-down-word"))):"intersection"==o.direction&&(r.push(t("input:attr(data-across,"+o.name.across+")")),r.push(t("input:attr(data-down,"+o.name.down+")")),c.push(e.attr("data-across-word")),c.push(e.attr("data-down-word"))),t.each(r,function(e,s){var r=t.vote(s,function(e){return t.isset(t(e).val())});a.data=t.smarty.crossword.data[i];var o;t.each(a.data,function(t,s){s.answer==c[e]&&(o=s.answer)});var d;n.each(function(e){var s=t(this).clueData();s.answer==o&&(d=t(this))}),r?d.trigger(t.Event("clue:checkoff",{autoCheckoff:!0,wordCompleted:!0})):d.trigger(t.Event("clue:checkoff",{autoCheckoff:!0,wordCompleted:!1}))}),e},t.fn.highlightClue=function(e){var s,a,n=t(this),r=n.closest(":smarty.smarty"),i=r.find(":smarty(clue)"),o=n.inputData();return"across"==o.direction?(a=parseInt(n.attr("data-across-number")),s=i.filter('[data-number="'+a+'"]')):"down"==o.direction?(a=parseInt(n.attr("data-down-number")),s=i.filter('[data-number="'+a+'"]')):"intersection"==o.direction&&(a=[parseInt(n.attr("data-across-number")),parseInt(n.attr("data-down-number"))],s=i.filter('[data-number="'+a[0]+'"],[data-number="'+a[1]+'"]')),s.each(function(s){"focus"==e.type&&t(this).smartClass("highlight","add"),"blur"==e.type&&t(this).smartClass("highlight","remove")}),n},t.fn.popoutClue=function(e){var s,a;if(e===!0){var n=t(this);s=t(this).is(":smarty(popclue)")?t(this):n.closest(":smarty("+t.smarty.config.crosswords.selector+")").find(":smarty(popclue)"),s.smartClass("transition"),setTimeout(function(){s.smartClass("pop"),setTimeout(function(){s.remove()},100*t.smarty.config.transitionSpeed+200)},10)}else{a=t(this);var r,i,o,c,d=a.closest(":smarty.smarty"),l=d.find("table.grid"),u=l.find("input"),p=t(t.smarty.config.window),f=t(t.smarty.config.window.document);s=d.find(":smarty(popclue)"),p.top=p.scrollTop(),p.left=p.scrollLeft(),p.width=p.innerWidth(),p.height=p.innerHeight(),t.smarty.config.frameEnabled&&(c=f.find(t.smarty.config.frameSelector+" iframe").contents()),t.isset(c)?(c.top=c.offset().top,c.left=c.offset().left):c={top:0,left:0},a.top=a.offset().top+c.top-p.top+(c.top>0?p.top-c.top:0),a.left=a.offset().left+c.left-p.left+(c.top>0?p.left-c.left:0),a.width=a.outerWidth(),a.height=a.outerHeight();var h,m=10,g={},v={};d.data=t.smarty.crossword.data[d.attr("id")],a.data=a.inputData(),"across"==a.data.direction?(h=parseInt(a.attr("data-across-number")),t.each(d.data,function(t,e){e.number==h&&(clue=e.clue)}),i=t("<span>",{class:"pop-num",html:"<span>"+h+"</span>"}),o=t("<span>",{class:"pop-txt",html:clue}),r=t("<div>",{class:"pop-ttl",html:"Across"})):"down"==a.data.direction?(h=parseInt(a.attr("data-down-number")),t.each(d.data,function(t,e){e.number==h&&(clue=e.clue)}),i=t("<span>",{class:"pop-num",html:"<span>"+h+"</span>"}),o=t("<span>",{class:"pop-txt",html:clue}),r=t("<div>",{class:"pop-ttl",html:"Down"})):"intersection"==a.data.direction&&(h=[parseInt(a.attr("data-across-number")),parseInt(a.attr("data-down-number"))],clue=[],t.each(d.data,function(t,e){e.number==h[0]&&(clue[0]=e.clue),e.number==h[1]&&(clue[1]=e.clue)}),i=[t("<span>",{class:"pop-num",html:"<span>"+h[0]+"</span>"}),t("<span>",{class:"pop-num",html:"<span>"+h[1]+"</span>"})],o=[t("<span>",{class:"pop-txt",html:clue[0]}),t("<span>",{class:"pop-txt",html:clue[1]})],r=[t("<div>",{class:"pop-ttl",html:"Across"}),t("<div>",{class:"pop-ttl",html:"Down"})]),t.exists(s)?(s.find("div").remove(),t.repeat(i.length,function(e){var a=t("<div>").append(i[e-1]).append(o[e-1]);s.append(r[e-1]).append(a)})):(s=t("<"+t.smarty.config.selectorPrefix+"popclue>").appendTo(d),t.repeat(i.length,function(e){var a=t("<div>").append(i[e-1]).append(o[e-1]);s.append(r[e-1]).append(a)}),s.smartClass("transition"),setTimeout(function(){s.smartClass("pop"),setTimeout(function(){s.smartClass("transition")},1e3*t.smarty.config.transitionSpeed+200)},10)),s.width=s.outerWidth(),s.height=s.outerHeight(),g.left=t(window).scrollLeft()+m,g.top=p.top+m,g.right=t(window).width()-s.width-m,g.bottom=p.height-s.height-m,a.left+a.width<=g.right?v.left=a.left+a.width+"px":a.left-s.width>=g.left?v.left=a.left-s.width+"px":v.left=g.left+"px",a.top+a.height+m<=g.bottom?v.top=a.top+a.height+m+"px":v.top=a.top-s.height-m+"px",a.left+a.width>g.right&&a.left-s.width<g.left?v.width=a.left-g.left+"px":v.width="",s.css({left:v.left,top:v.top,width:v.width}),p.on("scroll resize",function(){t.debounce(function(){s.popoutClue(!0)},100,!0)}),a.on("blur",function(){setTimeout(function(){var e=t(":focus"),a=u.indexEl(e);a==-1&&s.popoutClue(!0)},10)})}return a},t.fn.nextInput=function(){var e,s=t(this),a=s.parent(),n=a.parent("table"),r=n.find("td"),i=s.inputData(),o=a.getCoords(),c={across:function(){return s.is('[data-across-last="true"]')?void(t.smarty.crossword.inputDirection=!1):(e=t("input:attr(data-across,"+i.name.across+")"),index=e.indexEl(s),i.ends.last===!1||"across"!=i.ends.last?(s.on("keyup",function(){e.eq(index+1).focus(),s.unbind("keyup")}),t.smarty.crossword.inputDirection="across",e.eq(index+1)):(t.smarty.crossword.inputDirection=!1,s))},down:function(){return s.is('[data-down-last="true"]')?void(t.smarty.crossword.inputDirection=!1):(e=t("input:attr(data-down,"+i.name.down+")"),index=e.indexEl(s),i.ends.last===!1||"down"!=i.ends.last?(s.on("keyup",function(){e.eq(index+1).focus(),s.unbind("keyup")}),t.smarty.crossword.inputDirection="down",e.eq(index+1)):(t.smarty.crossword.inputDirection=!1,s))}};if("across"==i.direction)c.across();else if("down"==i.direction)c.down();else if("intersection"==i.direction)if("across"==t.smarty.crossword.inputDirection)c.across();else if("down"==t.smarty.crossword.inputDirection)c.down();else if("across"==i.ends.first)c.across();else if("down"==i.ends.first)c.down();else{var d=r.filter('[data-coords="'+o.x+","+(o.y-1)+'"]').find("input"),l=r.filter('[data-coords="'+(o.x-1)+","+o.y+'"]').find("input");!t.exists(d)||!t.isset(d.val())||t.exists(l)&&t.isset(l.val())?!t.exists(l)||!t.isset(l.val())||t.exists(d)&&t.isset(d.val())?c.across():c.across():c.down()}return s},t.fn.previousInput=function(){var e,s=t(this),a=s.parent(),n=a.parent("table"),r=n.find("td"),i=s.inputData(),o=a.getCoords(),c={across:function(){return s.is('[data-across-first="true"]')?void(t.smarty.crossword.clearDirection=!1):(e=t("input:attr(data-across,"+i.name.across+")"),index=e.indexEl(s),i.ends.first===!1||"across"!=i.ends.first?(s.on("keyup",function(){e.eq(index-1).focus().clearInput(),s.unbind("keyup")}),t.smarty.crossword.clearDirection="across",e.eq(index-1)):(t.smarty.crossword.clearDirection=!1,s))},down:function(){return s.is('[data-down-first="true"]')?void(t.smarty.crossword.clearDirection=!1):(e=t("input:attr(data-down,"+i.name.down+")"),index=e.indexEl(s),i.ends.first===!1||"down"!=i.ends.first?(s.on("keyup",function(){e.eq(index-1).focus().clearInput(),s.unbind("keyup")}),t.smarty.crossword.clearDirection="down",e.eq(index-1)):(t.smarty.crossword.clearDirection=!1,s))}};if("across"==i.direction)c.across();else if("down"==i.direction)c.down();else if("intersection"==i.direction)if("across"==t.smarty.crossword.clearDirection)c.across();else if("down"==t.smarty.crossword.clearDirection)c.down();else if("across"==i.ends.first)c.across();else if("down"==i.ends.first)c.down();else{var d=r.filter('[data-coords="'+o.x+","+(o.y-1)+'"]').find("input"),l=r.filter('[data-coords="'+(o.x-1)+","+o.y+'"]').find("input");
!t.exists(d)||!t.isset(d.val())||t.exists(l)&&t.isset(l.val())?!t.exists(l)||!t.isset(l.val())||t.exists(d)&&t.isset(d.val())?c.across():c.across():c.down()}return s},t.fn.shiftInput=function(e){var s=t(this),a=s.parent(),n=s.closest("table.grid"),r=n.find("td"),i=a.getCoords(),o={rows:{first:1,last:parseInt(n.attr("data-rows"))},cols:{first:1,last:parseInt(n.attr("data-cols"))}},c={left:37,up:38,right:39,down:40,code:e.keyCode},d={up:function(){if(i.y!=o.rows.first){var e=r.filter('[data-coords="'+i.x+","+(i.y-1)+'"]');if(t.exists(e.find("input")))return e.find("input").focus(),e.find("input")}},down:function(){if(i.y!=o.rows.last){var e=r.filter('[data-coords="'+i.x+","+(i.y+1)+'"]');if(t.exists(e.find("input")))return e.find("input").focus(),e.find("input")}},left:function(){if(i.x!=o.cols.first){var e=r.filter('[data-coords="'+(i.x-1)+","+i.y+'"]');if(t.exists(e.find("input")))return e.find("input").focus(),e.find("input")}},right:function(){if(i.x!=o.cols.last){var e=r.filter('[data-coords="'+(i.x+1)+","+i.y+'"]');if(t.exists(e.find("input")))return e.find("input").focus(),e.find("input")}}};return c.code==c.up?d.up():c.code==c.down?d.down():c.code==c.left?d.left():c.code==c.right&&d.right(),s},t.fn.shiftTab=function(e){var s=t(this),a=parseInt(s.attr("tabindex"));if(a==-1){e.preventDefault();var n,r,i,o,c=s.parent(),d=c.closest("table.grid"),l=d.find("td"),u=l.find('input[tabindex="0"]'),p={code:e.keyCode,shift:e.shiftKey,tab:9},f=s.inputData(),h=c.getCoords(),m=function(e){return t("input:attr(data-"+e+","+f.name[e]+")")};if("across"==f.direction)n=m("across");else if("down"==f.direction)n=m("down");else if("intersection"==f.direction)if("across"==t.smarty.crossword.inputDirection)n=m("across");else if("down"==t.smarty.crossword.inputDirection)n=m("down");else if("across"==f.ends.last||"across"==f.ends.first)n=m("across");else if("down"==f.ends.last||"down"==f.ends.first)n=m("down");else{var g=l.filter('[data-coords="'+h.x+","+(h.y-1)+'"]').find("input"),v=l.filter('[data-coords="'+(h.x-1)+","+h.y+'"]').find("input");n=m(!t.exists(g)||!t.isset(g.val())||t.exists(v)&&t.isset(v.val())?!t.exists(v)||!t.isset(v.val())||t.exists(g)&&t.isset(g.val())?"across":"across":"down")}r=n.filter('[tabindex="0"]').first(),o=u.indexEl(r),p.code!=p.tab||p.shift||(i=o!==u.length-1?u.eq(o+1).focus():r.focus()),p.code==p.tab&&p.shift&&(i=0!==o?u.eq(o-1).focus():r.focus())}return s},t.fn.replaceInput=function(e){return t(this).val(String.fromCharCode(e.keyCode).toUpperCase())},t.fn.clearInput=function(){return t(this).val("")},t.fn.compatibilityCrossword=function(e){var s=t(this),a=s.find(".grid"),n=s.find("button"),r=s.find(":smarty(down), :smarty(across)"),i=s.find(".notif-incompatible"),o=t(t.smarty.config.window),c=20;return o.width=o.innerWidth(),o.height=o.innerHeight(),o.width-c>t.smarty.config.crosswords.respondAt?(s.attr("data-incompatible",!1),t.exists(i)&&i.remove(),a.smartClass("incompatible","remove"),n.each(function(){t(this).smartClass("incompatible","remove")}),r.each(function(){t(this).smartClass("incompatible","remove")})):(s.attr("data-incompatible",!0),t.exists(i)||(i=t("<div>",{class:"notif-incompatible",html:"Yikes, the crossword puzzle won't fit! Please enlarge your browser window, or use a device with a larger screen."}).appendTo(s)),a.smartClass("incompatible","add"),n.each(function(){t(this).smartClass("incompatible","add")}),r.each(function(){t(this).smartClass("incompatible","add")})),t.isset(e)&&e(),s},t.fn.checkCrossword=function(){var e,s=t(this),a=s.parent(),n=a.closest("table.grid"),r=n.closest(":smarty("+t.smarty.config.crosswords.selector+")"),i=n.find("td"),o=i.find("input"),c=t.isset(r.attr("data-check"))?r.attr("data-check"):"puzzle";if("letters"==c)t.isset(s.val())&&r.trigger(t.Event("crossword:validate",{validateMode:c,targetInputs:s}));else if("words"==c){var d=s.inputData(),l=[],u=[];"across"==d.direction?(e=[t("input:attr(data-across,"+d.name.across+")")],u.push(t(e[0])),l.push(t(e[0]).attr("data-across-word"))):"down"==d.direction?(e=[t("input:attr(data-down,"+d.name.down+")")],u.push(t(e)[0]),l.push(t(e[0]).attr("data-down-word"))):"intersection"==d.direction&&(e=[t("input:attr(data-across,"+d.name.across+")"),t("input:attr(data-down,"+d.name.down+")")],u.push(t(e[0])),u.push(t(e[1])),l.push(t(e[0]).attr("data-across-word")),l.push(t(e[0]).attr("data-down-word"))),t.each(u,function(e,s){var a=t.vote(s,function(e){return t.isset(t(e).val())});a?r.trigger(t.Event("crossword:validate",{validateMode:c,completedWord:!0,targetInputs:s})):r.trigger(t.Event("crossword:validate",{validateMode:c,completedWord:!1,targetInputs:s}))})}else if("puzzle"==c){var p=t.vote(o,function(e){return t.isset(t(e).val())});p&&r.trigger(t.Event("crossword:validate",{validateMode:c}))}return r},t.fn.resetCrossword=function(){var e=t(this),s=e.find("table.grid"),a=s.find("input"),n=e.find(":smarty(modal)"),r=e.find(".btn-check"),i=e.find(".btn-reset");t.exists(n)||(n=e.dialogBox({attachTo:i,attachmentMethod:"after",headerText:"Confirm Reset",bodyText:"<p>Are you sure you want to reset this crossword puzzle?</p>"}).on("dialog:open dialog:close",function(){t.smarty.accessibility.setup()}).on("dialog:confirm",function(){a.each(function(e){t.isset(t(this).val())&&t(this).clearInput(),t(this).trigger("change:value")}),t.exists(r)&&r.remove()}))},t.fn.revealCrossword=function(){var e=t(this),s=e.find("table.grid"),a=s.find("input"),n=e.find(":smarty(modal)"),r=e.find(".btn-reveal");t.exists(n)||(n=e.dialogBox({attachTo:r,attachmentMethod:"after",headerText:"Confirm Reveal",bodyText:"<p>Are you sure you want to reveal this crossword puzzle?</p>"}).on("dialog:open dialog:close",function(){t.smarty.accessibility.setup()}).on("dialog:confirm",function(){a.each(function(e){t(this).val(t(this).attr("data-char")),t(this).trigger("change:value")})}))},t.fn.validateCrossword=function(e,s){var a,n,r,i=t(this),o=i.find("table.grid"),c=o.find("td"),d=c.find("input"),l=i.children("button"),u=l.filter(".btn-done");if("puzzle"==e.validateMode){var p=i.find(".btn-check");t.exists(p)||(p=t("<button>",{class:"btn-check",html:'<span class="fa fa-check"></span>Check Answers'}).insertAfter(l.last()),p.on("click",function(){n=d.validateInputs(),0===n.invalid&&(t.exists(u)||(u=t("<button>",{class:"btn-done",text:"Done"}).on("button:created",function(){t.isset(s)&&s()}).on("click",function(){i.trigger("crossword:complete"),u.remove()}).insertAfter(p).trigger("button:created"),t.exists(p)&&p.remove()))}))}else"letters"==e.validateMode?(a=e.targetInputs,n=a.validateInputs(),0===n.invalid&&(r=d.statusInputs(),0===r.unanswered&&(t.exists(u)||(u=t("<button>",{class:"btn-done",text:"Done"}).on("button:created",function(){t.isset(s)&&s()}).on("click",function(){i.trigger("crossword:complete"),u.remove()}).insertAfter(l.last()).trigger("button:created"))))):"words"==e.validateMode&&e.completedWord&&(a=e.targetInputs,n=a.validateInputs(),0===n.invalid&&(r=d.statusInputs(),0===r.unanswered&&(t.exists(u)||(u=t("<button>",{class:"btn-done",text:"Done"}).on("button:created",function(){t.isset(s)&&s()}).on("click",function(){i.trigger("crossword:complete"),u.remove()}).insertAfter(l.last())))));return i},t.fn.validateInputs=function(){var e=t(this),s={valid:0,invalid:0};return e.each(function(e){var a=t(this).val().toUpperCase(),n=t(this).attr("data-char");a==n?(s.valid++,t(this).attr("data-valid",!0)):(s.invalid++,t(this).attr("data-valid",!1))}),s},t.fn.statusInputs=function(){var e=t(this),s={answered:0,unanswered:0};return e.each(function(e){var a=t(this).val();t.isset(a)?s.answered++:s.unanswered++}),s},t.fn.completeCrossword=function(){var e=t(this),s=e.find("table.grid td input"),a=e.find(".btn-done");e.dialogBox({attachTo:a,attachmentMethod:"after",headerText:"Crossword Complete",bodyText:"<p>Great job! Click <strong>Continue</strong> to reset the crossword puzzle now.</p>"}).on("dialog:open dialog:close",function(){t.smarty.accessibility.setup()}).on("dialog:confirm",function(){s.each(function(e){t(this).clearInput().trigger("change:value").removeAttr("data-valid")})})},t.fn.getCoords=function(){return{x:parseInt(t.toArray(t(this).attr("data-coords"),",")[0]),y:parseInt(t.toArray(t(this).attr("data-coords"),",")[1])}},t.fn.getSize=function(){return{rows:parseInt(t(this).attr("data-rows")),cols:parseInt(t(this).attr("data-cols"))}},t.fn.toggleInfo=function(){var e=t(this),s=e.closest(":smarty("+t.smarty.config.flashcards.selector+")"),a=s.find(":smarty(pane)"),n=a.find(":smarty(info).show"),r=a.find(".btn-info"),i=parseBool(e.attr("data-info")),o=e.attr("data-flip"),c=e.attr("id"),d=function(){var e=t.makeArray(arguments);t.each(e,function(t,e){e.smartClass("hide","remove").smartClass("show","add")})},l=function(){var e=t.makeArray(arguments);t.each(e,function(t,e){e.smartClass("show","remove").smartClass("hide","add")})};return r.create=function(e){if(!t.exists(r))return r=t("<button>",{type:"button",title:"Learn More",class:"btn-info","data-open":!1,html:'<span class="fa fa-question fa-2x"></span>'}).appendTo(a),l(r),setTimeout(function(){e()},10),r.trigger("info:created"),r},r.show=function(e){return t.exists(r)?d(r):r.create(function(){d(r)}),t.isset(e)&&e(),r},r.hide=function(e){return t.exists(r)&&(l(r),setTimeout(function(){r.remove()},1e3*t.smarty.config.transitionSpeed+200)),t.isset(e)&&e(),r},i?(n=a.find('[data-for="'+c+'"]'),"back"==o?r.show().on("click",function(){r.is('[data-open="true"]')?(l(n,a),r.attr("data-open",!1)):(d(n,a),r.attr("data-open",!0)),e.trigger("card:change")}):"front"==o&&r.hide(function(){l(n,a)})):t.exists(r)&&r.hide(function(){l(n,a)}),e},t.fn.toggleNext=function(){var e=t(this),s=e.parent(),a=s.find(":smarty(card)"),n=(a.first(),a.last()),r=s.find(".btn-next");return e[0]===n[0]?r.disableBtn():r.enableBtn(),e},t.fn.togglePrev=function(){var e=t(this),s=e.parent(),a=s.find(":smarty(card)"),n=a.first(),r=(a.last(),s.find(".btn-prev"));return e[0]===n[0]?r.disableBtn():r.enableBtn(),e},t.fn.toggleFirst=function(){var e=t(this),s=e.parent(),a=s.find(":smarty(card)"),n=a.first(),r=s.find(".btn-first");return e[0]===n[0]?r.disableBtn():r.enableBtn(),e},t.fn.toggleLast=function(){var e=t(this),s=e.parent(),a=s.find(":smarty(card)"),n=a.last(),r=s.find(".btn-last");return e[0]===n[0]?r.disableBtn():r.enableBtn(),e},t.fn.swapSides=function(){var e=t(this),s=e.find(":smarty(flipper) .side"),a=["front","back"];return e.is('[data-side="'+a[0]+'"]')?(e.attr("data-side",a[1]),s.html(a[1].concat("s"))):(e.attr("data-side",a[0]),s.html(a[0].concat("s"))),e},t.fn.rsSkip=function(){var e=t(this),s=e.find(":smarty(front)"),a=e.find(":smarty(back)"),n=e.attr("data-flip"),r=t.smarty.config.readSpeaker.skipClass;return t.smarty.config.readSpeaker.enabled&&(e.is(".curr")?(e.is("."+r)&&e.smartClass(r,"remove"),"front"==n?(s.is("."+r)&&s.smartClass(r,"remove"),a.is("."+r)||a.smartClass(r,"add")):"back"==n&&(a.is("."+r)&&a.smartClass(r,"remove"),s.is("."+r)||s.smartClass(r,"add"))):e.smartClass(r,"add")),e},t.fn.rsToggle=function(){var e=t(this),s=e.find(":smarty(card)");return t.smarty.config.readSpeaker.enabled&&s.each(function(){t(this).rsSkip()}),e},t.fn.flipCard=function(e){var s=t(this),a=["front","back"];return s.is('[data-flip="'+a[0]+'"]')?s.attr("data-flip",a[1]):s.attr("data-flip",a[0]),t.isset(e)&&e(),s},t.fn.nextCard=function(e,s){var a,n=t(this),r=n.parent(),i=r.closest(":smarty("+t.smarty.config.flashcards.selector+")"),o=r.find(":smarty(card)"),c=(o.first(),o.last()),d=n.siblings(".next"),l=n.siblings(".prev"),u=r.find(".btn-next"),p=!t.isset(i.attr("data-flipback"))||parseBool(i.attr("data-flipback")),f=t.isset(i.attr("data-side"))?i.attr("data-side"):"front";return u.is(".disable")||!t.exists(d)||!e&&t.smarty.flashcard.cardLock?(t.isset(s)&&s(),n):(e||(t.smarty.flashcard.cardLock=!0),d.trackCard(),t.exists(l)&&l.smartClass("prev"),d[0]!==c[0]?(a=d.next().smartClass("next"),d.trigger("card:between")):d.trigger("card:end"),n.smartClass("transition"),d.smartClass("transition"),setTimeout(function(){n.smartClass("move next"),setTimeout(function(){d.smartClass("move"),setTimeout(function(){d.smartClass("move next transition curr"),n.smartClass("move curr next transition prev"),setTimeout(function(){p&&n.attr("data-flip")!==f&&n.attr("data-flip",f),e||(t.smarty.flashcard.cardLock=!1),!e&&t.isset(s)&&s()},10)},1e3*t.smarty.config.transitionSpeed+200)},1e3*t.smarty.config.transitionSpeed+200)},10),d)},t.fn.prevCard=function(e,s){var a,n=t(this),r=n.parent(),i=r.closest(":smarty("+t.smarty.config.flashcards.selector+")"),o=r.find(":smarty(card)"),c=o.first(),d=(o.last(),n.siblings(".prev")),l=n.siblings(".next"),u=r.find(".btn-prev"),p=!t.isset(i.attr("data-flipback"))||parseBool(i.attr("data-flipback")),f=t.isset(i.attr("data-side"))?i.attr("data-side"):"front";return u.is(".disable")||!t.exists(d)||t.smarty.flashcard.cardLock&&!e?(t.isset(s)&&s(),n):(e||(t.smarty.flashcard.cardLock=!0),d.trackCard(),t.exists(l)&&l.smartClass("next"),d[0]!==c[0]?(a=d.prev().smartClass("prev"),d.trigger("card:between")):d.trigger("card:start"),n.smartClass("transition"),d.smartClass("transition"),setTimeout(function(){n.smartClass("move prev"),setTimeout(function(){d.smartClass("move"),setTimeout(function(){d.smartClass("move prev transition curr"),n.smartClass("move curr prev transition next"),setTimeout(function(){p&&n.attr("data-flip")!==f&&n.attr("data-flip",f),e||(t.smarty.flashcard.cardLock=!1),!e&&t.isset(s)&&s()},10)},1e3*t.smarty.config.transitionSpeed+200)},1e3*t.smarty.config.transitionSpeed+200)},10),d)},t.fn.firstCard=function(e){var s=t(this),a=s.parent(),n=a.find(":smarty(card)"),r=(n.first(),a.find(".btn-first"));return r.is(".disable")||t.smarty.flashcard.cardLock||(t.smarty.flashcard.cardLock=!0,setTimeoutLoop(function(){s=s.prevCard(!0)},1e3*t.smarty.config.transitionSpeed+(1e3-t.smarty.config.transitionSpeed),n.indexEl(s),function(){t.smarty.flashcard.cardLock=!1,setTimeout(function(){t.smarty.accessibility.setup()},1e3*t.smarty.config.transitionSpeed*4)})),t.isset(e)&&e(),s},t.fn.lastCard=function(e){var s=t(this),a=s.parent(),n=a.find(":smarty(card)"),r=(n.last(),a.find(".btn-last"));return r.is(".disable")||t.smarty.flashcard.cardLock||(t.smarty.flashcard.cardLock=!0,setTimeoutLoop(function(){s=s.nextCard(!0)},1e3*t.smarty.config.transitionSpeed+(1e3-t.smarty.config.transitionSpeed),n.length-(n.indexEl(s)+1),function(){t.smarty.flashcard.cardLock=!1,setTimeout(function(){t.smarty.accessibility.setup()},1e3*t.smarty.config.transitionSpeed*4)})),t.isset(e)&&e(),s},t.fn.trackCard=function(){var e=t(this),s=e.parent(),a=s.find(":smarty(card)"),n=s.closest(":smarty("+t.smarty.config.flashcards.selector+")"),r=n.find(":smarty(tracker) .tracker .current"),i=n.find(':smarty(progress)[data-for="tracker"]'),o=a.indexEl(e)+1,c=a.length;return r.html(o),i.attr("data-progress",parseFloat(o/c*100)+"%").trigger("progress:update"),e},t.fn.shuffleCards=function(){var e=t(this),s=e.closest(":smarty("+t.smarty.config.flashcards.selector+")");s.find(".btn-shuffle");return e=e.shuffle(),setTimeout(function(){var s=e.filter(".curr"),a=e.filter(".next"),n=e.filter(".prev"),r=e.first(),i=e.last();t.exists(a)&&a.smartClass("next"),t.exists(n)&&n.smartClass("prev"),s[0]!==i[0]&&(a=s.next()),s[0]!==r[0]&&(n=s.prev()),t.exists(a)&&a.smartClass("next"),t.exists(n)&&n.smartClass("prev"),s.trigger("card:shuffle"),s.trackCard()},100),e},t.fn.dialogBox=function(e){var s={attachTo:t(this),attachmentMethod:"prepend",tagName:t.smarty.config.selectorPrefix+"modal",transitionData:{classes:!1,speed:t.smarty.config.transitionSpeed,property:"top",easing:"ease-in-out",from:function(t){return-t.outerHeight()},to:0,classList:{from:!1,to:!1,transition:!1}},dialogStyle:{},dialogEvents:{confirm:"dialog:confirm",cancel:"dialog:cancel",open:"dialog:open",close:"dialog:close"},enabledButtons:{confirm:!0,cancel:!0},buttonText:{confirm:'<span class="fa fa-check"></span> Continue',cancel:'<span class="fa fa-times"></span> Cancel'},buttonProperties:{confirm:{type:"button",class:"btn-confirm"},cancel:{type:"button",class:"btn-cancel"}},buttonStyle:{confirm:{},cancel:{}},headerText:"Confirmation Required",headerStyle:{},bodyText:"<p>Are you sure you want to continue?</p>",bodyStyle:{},footStyle:{}},a=t.extend(s,e);t.fn.transition=function(e){var s=t(this);return e===!0?a.transitionData.classes?(s.smartClass(a.transitionData.classList.transition),setTimeout(function(){s.smartClass(a.transitionData.classList.from+" "+a.transitionData.classList.to),setTimeout(function(){s.trigger(a.dialogEvents.open),s.smartClass(a.transitionData.classList.transition)},1e3*a.transitionData.speed+200)},10)):(s.css(a.transitionData.property,"function"==typeof a.transitionData.from?a.transitionData.from(s):a.transitionData.from),setTimeout(function(){s.css(a.transitionData.property,"function"==typeof a.transitionData.to?a.transitionData.to(s):a.transitionData.to),s.trigger(a.dialogEvents.open)},10)):e===!1&&(a.transitionData.classes?(s.smartClass(a.transitionData.classList.transition),setTimeout(function(){s.smartClass(a.transitionData.classList.to+" "+a.transitionData.classList.from),setTimeout(function(){s.trigger(a.dialogEvents.close),s.remove()},1e3*a.transitionData.speed+200)},10)):(s.css(a.transitionData.property,"function"==typeof a.transitionData.from?a.transitionData.from(s):a.transitionData.from),setTimeout(function(){s.trigger(a.dialogEvents.close),s.remove()},1e3*a.transitionData.speed+200))),t(this)};var n,r=[];a.enabledButtons.confirm&&(n=t("<button>",a.buttonProperties.confirm).css(a.buttonStyle.confirm).html(a.buttonText.confirm),r.push(n),n.on("click",function(e){var s=t(this).closest(a.tagName);s.trigger(a.dialogEvents.confirm),s.transition(!1)})),a.enabledButtons.cancel&&(n=t("<button>",a.buttonProperties.cancel).css(a.buttonStyle.cancel).html(a.buttonText.cancel),r.push(n),n.on("click",function(e){var s=t(this).closest(a.tagName);s.trigger(a.dialogEvents.cancel),s.transition(!1)}));var i=t("<div>",{class:"head",html:a.headerText}).css(a.headerStyle),o=t("<div>",{class:"body",html:a.bodyText}).css(a.bodyStyle),c=t("<div>",{class:"foot"}).css(a.footStyle);t.repeat(r.length,function(t){c.append(r[t-1])});var d=t("<"+a.tagName+">").append(i,o,c).css(a.dialogStyle);return a.transitionData.classes||d.css({transition:a.transitionData.property+" "+a.transitionData.speed+"s "+a.transitionData.easing}),"append"==a.attachmentMethod?a.attachTo.append(d):"prepend"==a.attachmentMethod?a.attachTo.prepend(d):"before"==a.attachmentMethod?a.attachTo.before(d):"after"==a.attachmentMethod&&a.attachTo.after(d),d.transition(!0),d},t.fn.shuffle=function(){var e=t(this).get(),s=function(t){return Math.floor(Math.random()*t)},a=t.map(e,function(){var a=s(e.length),n=t(e[a]).clone(!0)[0];return e.splice(a,1),n});return this.each(function(e){t(this).replaceWith(t(a[e]))}),t(a)},t.fn.computedCSS=function(e){e=!!t.isset(e)&&e;var s=window.getComputedStyle(t(this)[0],null);return e!==!1&&(s=s.getPropertyValue(e)),s},t.debounce=function(t,e,s){var a,n=this,r=arguments,i=function(){a=!1,s&&t.apply(n,r)},o=s&&!a;clearTimeout(a),a=setTimeout(i,e),o&&t.apply(n,r)},t.repeat=function(t,e){for(var s=1;s<=t;s++)e(s)},t.exists=function(t){return t.length>0},t.reorder=function(e,s,a){var n=e.eq(0).parent(),r=[];e.each(function(e){r.push({node:t(this),number:parseInt(t(this).attr(s))})}),"ASC"!=a&&t.isset(a)?"DESC"==a&&r.sort(function(t,e){return e.number-t.number}):r.sort(function(t,e){return t.number-e.number});var i=t();return t.each(r,function(t,e){var s=n.find(e.node);s.appendTo(n),i=i.add(s)}),i},t.isset=function(t){return void 0!==t&&null!==t&&""!==t},t.index=function(e,s){var a=-1,n=0;return t.each(e,function(t,e){t==s&&(a=n),n++}),a},t.isBoolean=function(t){return"boolean"==typeof t||"true"==t||"false"==t},t.windowOpen=function(e){var s={url:!1,target:"_blank",title:!1,html:!1,stylesheets:!1,styleblocks:!1,scriptsheets:!1,scriptblocks:!1,callback:!1,features:{titlebar:!0,menubar:!0,location:!1,resizable:!0,scrollbars:!0,status:!0,dependent:!1,width:0,height:0}},a=t.extend(s,e);a.strings={features:"",url:"",name:"",target:""},a.elements={style:t(),script:t()},t.each(a.features,function(e,s){("boolean"==typeof s||"number"==typeof s&&0!==s)&&(a.strings.features+=e+"="+Number(s));var n=t.index(a.features,e);n!=Object.keys(a.features).length-1&&(a.strings.features+=",")}),a.strings.url=a.url!==!1?a.url:"",a.strings.name=a.name!==!1?a.name:"",a.strings.target=a.target!==!1?a.target:"",a.stylesheets!==!1&&a.stylesheets.forEach(function(e,s){a.elements.style=a.elements.style.add(t("<link>",{rel:"stylesheet",href:e.trim()}))}),a.styleblocks!==!1&&a.styleblocks.forEach(function(e,s){a.elements.style=a.elements.style.add(t(e))}),a.scriptsheets!==!1&&a.scriptsheets.forEach(function(e,s){a.elements.script=a.elements.script.add(t("<script>",{src:e.trim()}))}),a.scriptblocks!==!1&&a.scriptblocks.forEach(function(e,s){a.elements.script=a.elements.script.add(t(e))});var n=window.open(a.strings.url,a.strings.target,a.strings.features);return a.title!==!1&&(n.document.title=a.title),a.html!==!1&&(n.document.body.innerHTML=n.document.body.innerHTML+a.html.outerHTML()),a.stylesheets===!1&&a.styleblocks===!1||a.elements.style.each(function(){n.document.head.innerHTML=n.document.head.innerHTML+this.outerHTML}),a.scriptsheets===!1&&a.scriptblocks===!1||a.elements.script.each(function(){n.document.body.innerHTML=n.document.body.innerHTML+this.outerHTML}),a.callback!==!1&&a.callback(t(n.document)),t(n)},t.toArray=function(e,s){if(t.isset(s)){if(e.indexOf(s)>-1)return e.split(s)}else if(e.indexOf(" ")>-1)return e.split(" ");return[e]},t.vote=function(e,s){var a=[];return t.each(e,function(t,e){var n=function(t){return s(t)};n(e)?a.push(!0):a.push(!1)}),!!a.every(function(t){return t===!0})},t.extend(t.expr[":"],{smarty:function(e,s,a){var n=RegExp.escape(t.smarty.config.selectorPrefix),r=t.isset(a[3])?a[3]:"",i=new RegExp("^"+n+r,"i");return i.test(e.nodeName)},attr:function(e,s,a){var n=t.toArray(a[3],",");return t(e).is("["+n[0]+'="'+n[1]+'"]')}}),t.tts={synthesizer:window.getSpeechSynthesis(),utterance:window.getSpeechSynthesisUtterance(),voices:function(){return this.synthesizer.getVoices()},isPaused:function(){return this.synthesizer.paused},isPending:function(){return this.synthesizer.pending},isSpeaking:function(){return this.synthesizer.speaking},getProxy:function(t){return t.corsProxyServer},useProxy:function(t,e){t.corsProxyServer=e},speak:function(e,s){var a=new this.utterance(e);t.tts.useProxy(a,window.location.protocol+"//crossorigin.me/"),this.voices.byName=function(t){return this.voices.filter(function(e){return e.name==t})[0]},this.voices.byLang=function(t){return this.voices.filter(function(e){return e.lang==t})};var n={lang:"en-US",volume:1,rate:1},r=t.extend(n,s);for(var i in r)a[i]=r[i];return this.synthesizer.speak(a),a},cancel:function(){return this.synthesizer.cancel()},pause:function(){return this.synthesizer.pause()},resume:function(){return this.synthesizer.resume()}}}(jQuery),Array.prototype.add=function(){var t=$.makeArray(arguments),e=this.concat(t);return e},Array.prototype.remove=function(){for(var t=$.makeArray(arguments),e=0;e<t.length;e++){for(var s,a=0;a<this.length;a++)this[a]==t[e]&&(s=a);s>-1&&this.splice(s,1)}return this},Array.prototype.sum=function(){for(var t=0,e=0;e<this.length;e++)t+=this[e];return t},Array.prototype.count=function(t){var e;return $.isset(t)?(e=0,$.each(this,function(s,a){a==t&&e++})):(e={},$.each(function(t,e){count[e]=(count[e]||0)+1})),e},Array.prototype.compare=function(t){return!(!$.isset(this)||!$.isset(t))&&(this===t||this.length==t.length&&($.each(this,function(e,s){if(s!==t[e])return!1}),!0))},String.prototype.toTitleCase=function(t){var e;$.isset(t)||(t=!1),t||(e=/(\w)*[\S*]/g),t&&(e=/(\w)*[\S|\-|\/|\\*]/g);var s=this.replace(e,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()});return s},String.prototype.parseTime=function(t){var e=this.split(":"),s={};return"hhmmss"==t||"hmmss"==t?(s.h=parseInt(e[0]),s.m=parseInt(e[1]),s.s=parseInt(e[2]),s.t=3600*s.h+60*s.m+s.s):"mmss"==t||"mss"==t?(s.h=0,s.m=parseInt(e[0]),s.s=parseInt(e[1]),s.t=3600*s.h+60*s.m+s.s):"ss"==t||"s"==t?(s.h=0,s.m=0,s.s=parseInt(e[0]),s.t=3600*s.h+60*s.m+s.s):s=this,s},RegExp.escape=function(t){return String(t).replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},Number.prototype.toDecimals=function(t){var e=this,s=0;return this.toString().indexOf(".")>-1&&(s=e.toString().length-1-e.toString().indexOf(".")),s>t&&Math.round(e)!=e&&(e=e.toFixed(t)),e},Number.prototype.pad=function(t,e){$.isset(e)||(e="0");var s=this.toString();return s.length>=t?s:new Array(t-s.length+1).join(e)+s},Number.prototype.toTime=function(){return{h:Math.floor(this/3600),m:Math.floor(this%3600/60),s:Math.floor(this%3600%60)}},$(document).ready(function(){$.smarty()});
//# sourceMappingURL=smarty.min.js.map